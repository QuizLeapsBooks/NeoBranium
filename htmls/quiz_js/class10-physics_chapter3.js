    const quizData = {
  level1: [
    {
      question: "The bouncing back of light from a surface is called:",
      options: ["Refraction", "Reflection", "Dispersion", "Scattering"],
      answer: "Reflection"
    },
    {
      question: "The angle of incidence is equal to the angle of:",
      options: ["Refraction", "Reflection", "Deviation", "Dispersion"],
      answer: "Reflection"
    },
    {
      question: "A plane mirror forms an image that is:",
      options: ["Real and inverted", "Virtual and erect", "Real and erect", "Virtual and inverted"],
      answer: "Virtual and erect"
    },
    {
      question: "The bending of light as it passes from one medium to another is called:",
      options: ["Reflection", "Refraction", "Dispersion", "Scattering"],
      answer: "Refraction"
    },
    {
      question: "The ratio of the speed of light in vacuum to that in a medium is called:",
      options: ["Refractive index", "Power of lens", "Focal length", "Magnification"],
      answer: "Refractive index"
    },
    {
      question: "A convex mirror always forms an image that is:",
      options: ["Real and inverted", "Virtual and erect", "Real and erect", "Virtual and inverted"],
      answer: "Virtual and erect"
    },
    {
      question: "The point where light rays converge after passing through a convex lens is called:",
      options: ["Focus", "Centre of curvature", "Pole", "Optical centre"],
      answer: "Focus"
    },
    {
      question: "The power of a lens is measured in:",
      options: ["Watt", "Dioptre", "Joule", "Candela"],
      answer: "Dioptre"
    },
    {
      question: "A concave lens always forms an image that is:",
      options: ["Real and inverted", "Virtual and erect", "Real and erect", "Virtual and inverted"],
      answer: "Virtual and erect"
    },
    {
      question: "The SI unit of focal length is:",
      options: ["Metre", "Dioptre", "Watt", "Joule"],
      answer: "Metre"
    },
    {
      question: "The laws of reflection hold true for:",
      options: ["Plane mirrors only", "Curved mirrors only", "All reflecting surfaces", "Lenses only"],
      answer: "All reflecting surfaces"
    },
    {
      question: "A convex lens is also called a:",
      options: ["Diverging lens", "Converging lens", "Cylindrical lens", "Plano-concave lens"],
      answer: "Converging lens"
    },
    {
      question: "A concave lens is also called a:",
      options: ["Converging lens", "Diverging lens", "Cylindrical lens", "Plano-convex lens"],
      answer: "Diverging lens"
    },
    {
      question: "The centre of curvature of a spherical mirror is:",
      options: ["Twice the focal length", "Equal to focal length", "Half the focal length", "Infinite"],
      answer: "Twice the focal length"
    },
    {
      question: "The magnification produced by a plane mirror is:",
      options: ["+1", "-1", "0", "Infinity"],
      answer: "+1"
    },
    {
      question: "Snell’s law relates the angle of incidence with the angle of:",
      options: ["Reflection", "Refraction", "Dispersion", "Scattering"],
      answer: "Refraction"
    },
    {
      question: "The focal length of a plane mirror is:",
      options: ["Zero", "Infinity", "Equal to radius", "Half the radius"],
      answer: "Infinity"
    },
    {
      question: "Light travels fastest in:",
      options: ["Air", "Water", "Glass", "Vacuum"],
      answer: "Vacuum"
    },
    {
      question: "A real image can be obtained on a:",
      options: ["Screen", "Mirror", "Lens", "Wall"],
      answer: "Screen"
    },
    {
      question: "The refractive index of a medium is greater than 1 for:",
      options: ["Vacuum", "Air", "Glass", "All of these"],
      answer: "Glass"
    }
  ],
  level2: [
    {
      question: "A convex lens has a focal length of 20 cm. Its power is:",
      options: ["+5 D", "+2 D", "-5 D", "-2 D"],
      answer: "+5 D"
    },
    {
      question: "An object is placed 30 cm in front of a convex lens of focal length 20 cm. The image distance is:",
      options: ["60 cm", "30 cm", "15 cm", "12 cm"],
      answer: "60 cm"
    },
    {
      question: "A concave mirror forms a real image at 10 cm when the object is at 15 cm. Its focal length is:",
      options: ["6 cm", "8 cm", "10 cm", "12 cm"],
      answer: "6 cm"
    },
    {
      question: "The refractive index of glass is 1.5. The speed of light in glass is:",
      options: ["2 × 10^8 m/s", "3 × 10^8 m/s", "1.5 × 10^8 m/s", "4.5 × 10^8 m/s"],
      answer: "2 × 10^8 m/s"
    },
    {
      question: "An object is placed at 2F of a convex lens. The image is formed at:",
      options: ["F", "2F", "Infinity", "Between F and 2F"],
      answer: "2F"
    },
    {
      question: "A plane mirror forms an image of an object placed 5 cm in front of it at:",
      options: ["5 cm behind", "10 cm behind", "5 cm in front", "Infinity"],
      answer: "5 cm behind"
    },
    {
      question: "A concave lens has a focal length of 25 cm. Its power is:",
      options: ["+4 D", "-4 D", "+2 D", "-2 D"],
      answer: "-4 D"
    },
    {
      question: "The magnification of an image formed by a convex lens is -2. The image is:",
      options: ["Virtual and erect", "Real and inverted", "Virtual and inverted", "Real and erect"],
      answer: "Real and inverted"
    },
    {
      question: "Light enters from air to water (refractive index 4/3). If the angle of incidence is 30°, the angle of refraction is:",
      options: ["22°", "30°", "45°", "60°"],
      answer: "22°"
    },
    {
      question: "An object is placed at the focus of a concave mirror. The image is formed at:",
      options: ["Focus", "Centre of curvature", "Infinity", "Pole"],
      answer: "Infinity"
    },
    {
      question: "A convex mirror has a focal length of 10 cm. The image of an object at 20 cm is formed at:",
      options: ["5 cm", "6.67 cm", "10 cm", "20 cm"],
      answer: "6.67 cm"
    },
    {
      question: "The power of a lens with focal length 50 cm is:",
      options: ["+2 D", "+1 D", "-2 D", "-1 D"],
      answer: "+2 D"
    },
    {
      question: "An object is placed 10 cm in front of a concave lens of focal length 20 cm. The image distance is:",
      options: ["-6.67 cm", "-20 cm", "-10 cm", "-15 cm"],
      answer: "-6.67 cm"
    },
    {
      question: "The refractive index of diamond is 2.42. The speed of light in diamond is:",
      options: ["1.24 × 10^8 m/s", "2.42 × 10^8 m/s", "3 × 10^8 m/s", "7.26 × 10^8 m/s"],
      answer: "1.24 × 10^8 m/s"
    },
    {
      question: "A convex lens forms a virtual image when the object is placed:",
      options: ["At infinity", "At 2F", "Between F and optical centre", "At F"],
      answer: "Between F and optical centre"
    },
    {
      question: "The magnification of an image formed by a plane mirror is always:",
      options: ["+1", "-1", "0", "Infinity"],
      answer: "+1"
    },
    {
      question: "A concave mirror forms a real image of the same size when the object is at:",
      options: ["Focus", "Centre of curvature", "Infinity", "Pole"],
      answer: "Centre of curvature"
    },
    {
      question: "The angle of incidence for a ray of light passing through the optical centre of a lens is:",
      options: ["0°", "30°", "45°", "90°"],
      answer: "0°"
    },
    {
      question: "A convex lens of focal length 15 cm forms an image at 30 cm. The object distance is:",
      options: ["10 cm", "15 cm", "20 cm", "30 cm"],
      answer: "10 cm"
    },
    {
      question: "The image formed by a convex mirror is always:",
      options: ["Real and inverted", "Virtual and erect", "Real and erect", "Virtual and inverted"],
      answer: "Virtual and erect"
    }
  ],
  level3: [
    {
      question: "A convex lens of focal length 20 cm forms an image at 30 cm. The object distance is:",
      options: ["12 cm", "15 cm", "60 cm", "40 cm"],
      answer: "60 cm"
    },
    {
      question: "A concave mirror has a focal length of 10 cm. An object at 15 cm forms an image at:",
      options: ["30 cm", "15 cm", "10 cm", "6 cm"],
      answer: "30 cm"
    },
    {
      question: "Light travels from glass (n=1.5) to air. The critical angle is:",
      options: ["41.8°", "48.6°", "60°", "30°"],
      answer: "41.8°"
    },
    {
      question: "A convex lens forms an image at 40 cm with magnification +2. The focal length is:",
      options: ["20 cm", "10 cm", "40 cm", "30 cm"],
      answer: "20 cm"
    },
    {
      question: "A concave lens of focal length 20 cm forms an image at 10 cm. The object distance is:",
      options: ["20 cm", "15 cm", "10 cm", "30 cm"],
      answer: "20 cm"
    },
    {
      question: "A ray of light passes from water (n=4/3) to glass (n=3/2). If the angle of incidence is 45°, the angle of refraction is:",
      options: ["40.5°", "45°", "30°", "60°"],
      answer: "40.5°"
    },
    {
      question: "A convex mirror forms an image at 5 cm for an object at 10 cm. The focal length is:",
      options: ["10 cm", "5 cm", "3.33 cm", "6.67 cm"],
      answer: "10 cm"
    },
    {
      question: "The power of a lens combination of +2 D and -1 D is:",
      options: ["+1 D", "-1 D", "+3 D", "-3 D"],
      answer: "+1 D"
    },
    {
      question: "An object is placed at 30 cm in front of a concave mirror of focal length 20 cm. The image distance is:",
      options: ["60 cm", "30 cm", "12 cm", "15 cm"],
      answer: "60 cm"
    },
    {
      question: "The magnification of a convex lens is +3 when the image is at 60 cm. The focal length is:",
      options: ["15 cm", "20 cm", "30 cm", "10 cm"],
      answer: "15 cm"
    },
    {
      question: "A ray of light enters from air to a medium with refractive index 1.4. If the angle of refraction is 30°, the angle of incidence is:",
      options: ["42.8°", "30°", "45°", "60°"],
      answer: "42.8°"
    },
    {
      question: "A concave mirror forms an image at infinity when the object is at:",
      options: ["Focus", "Centre of curvature", "Pole", "Between focus and pole"],
      answer: "Focus"
    },
    {
      question: "The focal length of a lens with power -2.5 D is:",
      options: ["-0.4 m", "0.4 m", "-2.5 m", "2.5 m"],
      answer: "-0.4 m"
    },
    {
      question: "A convex lens forms a real image of magnification -1. The object is at:",
      options: ["F", "2F", "Infinity", "Between F and 2F"],
      answer: "2F"
    },
    {
      question: "The refractive index of a medium is 2. The critical angle when light passes to air is:",
      options: ["30°", "45°", "60°", "30°"],
      answer: "30°"
    },
    {
      question: "A concave lens forms an image at 15 cm for an object at 30 cm. The focal length is:",
      options: ["-30 cm", "-15 cm", "-10 cm", "-20 cm"],
      answer: "-30 cm"
    },
    {
      question: "A convex lens of focal length 25 cm forms an image with magnification +2. The object distance is:",
      options: ["12.5 cm", "25 cm", "50 cm", "37.5 cm"],
      answer: "12.5 cm"
    },
    {
      question: "A ray of light passes from air to glass (n=1.5). If the angle of incidence is 60°, the angle of refraction is:",
      options: ["35.3°", "45°", "60°", "30°"],
      answer: "35.3°"
    },
    {
      question: "A concave mirror of focal length 10 cm forms an image at 20 cm. The object distance is:",
      options: ["20 cm", "15 cm", "10 cm", "5 cm"],
      answer: "20 cm"
    },
    {
      question: "The power of a convex lens forming an image at 30 cm for an object at 15 cm is:",
      options: ["+3.33 D", "+2 D", "-3.33 D", "-2 D"],
      answer: "+3.33 D"
    }
  ]
};

// Render quiz
function renderQuiz(level) {
  const quizContainer = document.getElementById("quizContainer");
  quizContainer.innerHTML = ""; // Clear previous questions
  quizData[level].forEach((item, index) => {
    const card = document.createElement("div");
    card.className = "card animate__animated animate__fadeInUp";
    card.innerHTML = `
      <div class="card__content">
        <h5>Q${index + 1}: ${item.question}</h5>
        ${item.options.map(option => `
          <label>
            <input type="radio" name="q${index}" value="${option}"> ${option}
          </label>
        `).join("")}
      </div>
    `;
    quizContainer.appendChild(card);
  });
}

// Check answers
function checkAnswers(level) {
  let score = 0;
  quizData[level].forEach((item, index) => {
    const selected = document.querySelector(`input[name="q${index}"]:checked`);
    if (selected) {
      const userAnswer = selected.value;
      if (userAnswer === item.answer) {
        score++;
        selected.parentElement.style.color = "var(--correct-color)";
      } else {
        selected.parentElement.style.color = "var(--wrong-color)";
      }
    }
  });
  const resultDiv = document.getElementById("result");
  resultDiv.innerHTML = `Your Score: ${score}/${quizData[level].length} 🎉<br>${score === quizData[level].length ? "Full marks, bro! 😎" : "Keep grinding! 🚀"}`;
  resultDiv.className = "result animate__animated animate__bounceIn";
}

// Level selection
document.addEventListener("DOMContentLoaded", () => {
  renderQuiz("level1"); // Default to Level 1
  document.getElementById("levelSelect").addEventListener("change", function () {
    const selectedLevel = this.value;
    renderQuiz(selectedLevel);
    document.getElementById("submitQuiz").onclick = () => checkAnswers(selectedLevel);
  });

  document.getElementById("submitQuiz").onclick = () => checkAnswers("level1");

  // Toggle sidebar
  document.querySelector('.navbar-toggler').addEventListener('click', function () {
    const sidebar = document.querySelector('.sidebar');
    const main = document.querySelector('main');
    sidebar.classList.toggle('active');
    main.classList.toggle('shifted');
  });

  // Responsive adjustment
  window.addEventListener('resize', function () {
    const sidebar = document.querySelector('.sidebar');
    const main = document.querySelector('main');
    if (window.innerWidth >= 1024) {
      sidebar.classList.remove('active');
      main.classList.remove('shifted');
      main.style.marginLeft = '250px';
    } else if (window.innerWidth >= 768) {
      main.style.marginLeft = sidebar.classList.contains('active') ? '0' : '200px';
    } else {
      main.style.marginLeft = '0';
    }
  });

  // Initial load adjustment
  window.addEventListener('load', function () {
    const sidebar = document.querySelector('.sidebar');
    const main = document.querySelector('main');
    if (window.innerWidth >= 1024) {
      main.style.marginLeft = '250px';
    } else if (window.innerWidth >= 768) {
      main.style.marginLeft = '200px';
    } else {
      main.style.marginLeft = '0';
    }
  });
});
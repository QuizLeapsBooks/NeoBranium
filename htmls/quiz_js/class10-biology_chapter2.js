const quizData = {
  level1: [
    {
      question: "The system responsible for control and coordination in animals is:",
      options: ["Nervous system", "Digestive system", "Respiratory system", "Circulatory system"],
      answer: "Nervous system"
    },
    {
      question: "The basic structural and functional unit of the nervous system is:",
      options: ["Neuron", "Nephron", "Alveolus", "Osteon"],
      answer: "Neuron"
    },
    {
      question: "The brain is protected by the:",
      options: ["Spinal cord", "Skull", "Ribs", "Vertebral column"],
      answer: "Skull"
    },
    {
      question: "The part of the neuron that carries impulses away from the cell body is:",
      options: ["Dendrite", "Axon", "Nucleus", "Synapse"],
      answer: "Axon"
    },
    {
      question: "The gap between two neurons is called:",
      options: ["Synapse", "Dendrite", "Axon", "Myelin sheath"],
      answer: "Synapse"
    },
    {
      question: "The part of the brain responsible for balance is:",
      options: ["Cerebrum", "Cerebellum", "Medulla", "Hypothalamus"],
      answer: "Cerebellum"
    },
    {
      question: "The chemical messengers of the body are called:",
      options: ["Enzymes", "Hormones", "Antigens", "Antibodies"],
      answer: "Hormones"
    },
    {
      question: "The gland that regulates growth in humans is:",
      options: ["Thyroid", "Pituitary", "Adrenal", "Pancreas"],
      answer: "Pituitary"
    },
    {
      question: "The hormone that regulates blood sugar levels is:",
      options: ["Insulin", "Adrenaline", "Thyroxine", "Estrogen"],
      answer: "Insulin"
    },
    {
      question: "The system responsible for chemical coordination in animals is:",
      options: ["Nervous system", "Endocrine system", "Circulatory system", "Excretory system"],
      answer: "Endocrine system"
    },
    {
      question: "The reflex action is controlled by the:",
      options: ["Brain", "Spinal cord", "Cerebellum", "Hypothalamus"],
      answer: "Spinal cord"
    },
    {
      question: "The plant hormone responsible for cell division is:",
      options: ["Auxin", "Gibberellin", "Cytokinin", "Abscisic acid"],
      answer: "Cytokinin"
    },
    {
      question: "The movement of a plant towards light is called:",
      options: ["Geotropism", "Phototropism", "Hydrotropism", "Chemotropism"],
      answer: "Phototropism"
    },
    {
      question: "The part of the brain that controls involuntary actions like breathing is:",
      options: ["Cerebrum", "Cerebellum", "Medulla oblongata", "Hypothalamus"],
      answer: "Medulla oblongata"
    },
    {
      question: "The hormone secreted during stress is:",
      options: ["Insulin", "Adrenaline", "Thyroxine", "Testosterone"],
      answer: "Adrenaline"
    },
    {
      question: "The plant hormone that promotes stem elongation is:",
      options: ["Auxin", "Gibberellin", "Cytokinin", "Ethylene"],
      answer: "Gibberellin"
    },
    {
      question: "The brain and spinal cord together form the:",
      options: ["Peripheral nervous system", "Central nervous system", "Autonomic nervous system", "Somatic nervous system"],
      answer: "Central nervous system"
    },
    {
      question: "The movement of plant roots towards gravity is called:",
      options: ["Phototropism", "Geotropism", "Hydrotropism", "Chemotropism"],
      answer: "Geotropism"
    },
    {
      question: "The gland located in the neck that regulates metabolism is:",
      options: ["Pituitary", "Thyroid", "Adrenal", "Pancreas"],
      answer: "Thyroid"
    },
    {
      question: "The plant hormone that causes fruit ripening is:",
      options: ["Auxin", "Gibberellin", "Ethylene", "Cytokinin"],
      answer: "Ethylene"
    }
  ],
  level2: [
    {
      question: "The part of the neuron that receives impulses is:",
      options: ["Axon", "Dendrite", "Synapse", "Myelin sheath"],
      answer: "Dendrite"
    },
    {
      question: "The hormone responsible for the development of secondary sexual characters in males is:",
      options: ["Estrogen", "Progesterone", "Testosterone", "Thyroxine"],
      answer: "Testosterone"
    },
    {
      question: "The reflex arc involves:",
      options: ["Brain only", "Spinal cord and brain", "Spinal cord only", "Peripheral nerves only"],
      answer: "Spinal cord only"
    },
    {
      question: "The plant hormone that inhibits growth is:",
      options: ["Auxin", "Gibberellin", "Cytokinin", "Abscisic acid"],
      answer: "Abscisic acid"
    },
    {
      question: "The part of the brain responsible for thinking and memory is:",
      options: ["Cerebellum", "Cerebrum", "Medulla", "Hypothalamus"],
      answer: "Cerebrum"
    },
    {
      question: "The gland that secretes insulin is:",
      options: ["Pituitary", "Thyroid", "Pancreas", "Adrenal"],
      answer: "Pancreas"
    },
    {
      question: "The movement of plant roots towards water is called:",
      options: ["Phototropism", "Geotropism", "Hydrotropism", "Chemotropism"],
      answer: "Hydrotropism"
    },
    {
      question: "The hormone secreted by the adrenal gland during emergency situations is:",
      options: ["Insulin", "Adrenaline", "Thyroxine", "Estrogen"],
      answer: "Adrenaline"
    },
    {
      question: "The junction between two neurons where impulses are transmitted is called:",
      options: ["Dendrite", "Axon", "Synapse", "Myelin sheath"],
      answer: "Synapse"
    },
    {
      question: "The plant movement that is not directional is called:",
      options: ["Tropism", "Nastic movement", "Tactic movement", "Geotropism"],
      answer: "Nastic movement"
    },
    {
      question: "The hormone that regulates calcium levels in the blood is:",
      options: ["Thyroxine", "Parathormone", "Insulin", "Adrenaline"],
      answer: "Parathormone"
    },
    {
      question: "The part of the nervous system that controls involuntary actions is:",
      options: ["Central nervous system", "Peripheral nervous system", "Autonomic nervous system", "Somatic nervous system"],
      answer: "Autonomic nervous system"
    },
    {
      question: "The plant hormone responsible for apical dominance is:",
      options: ["Auxin", "Gibberellin", "Cytokinin", "Ethylene"],
      answer: "Auxin"
    },
    {
      question: "The gland located above the kidneys is:",
      options: ["Pituitary", "Thyroid", "Adrenal", "Pancreas"],
      answer: "Adrenal"
    },
    {
      question: "The chemical substance released at the synapse is:",
      options: ["Hormone", "Enzyme", "Neurotransmitter", "Antibody"],
      answer: "Neurotransmitter"
    },
    {
      question: "The deficiency of thyroxine causes:",
      options: ["Diabetes", "Goitre", "Cretinism", "Both Goitre and Cretinism"],
      answer: "Both Goitre and Cretinism"
    },
    {
      question: "The movement of a plant in response to touch is called:",
      options: ["Phototropism", "Geotropism", "Thigmotropism", "Hydrotropism"],
      answer: "Thigmotropism"
    },
    {
      question: "The hormone that prepares the body for fight or flight is:",
      options: ["Insulin", "Adrenaline", "Thyroxine", "Estrogen"],
      answer: "Adrenaline"
    },
    {
      question: "The part of the brain that regulates body temperature is:",
      options: ["Cerebrum", "Cerebellum", "Hypothalamus", "Medulla"],
      answer: "Hypothalamus"
    },
    {
      question: "The plant hormone that promotes seed dormancy is:",
      options: ["Auxin", "Gibberellin", "Cytokinin", "Abscisic acid"],
      answer: "Abscisic acid"
    }
  ],
  level3: [
    {
      question: "The neurotransmitter responsible for transmitting nerve impulses is:",
      options: ["Adrenaline", "Acetylcholine", "Insulin", "Thyroxine"],
      answer: "Acetylcholine"
    },
    {
      question: "The deficiency of insulin leads to:",
      options: ["Goitre", "Diabetes mellitus", "Cretinism", "Adrenal insufficiency"],
      answer: "Diabetes mellitus"
    },
    {
      question: "The part of the brain that connects the brain to the spinal cord is:",
      options: ["Cerebrum", "Cerebellum", "Medulla oblongata", "Pons"],
      answer: "Pons"
    },
    {
      question: "The hormone that promotes the development of female secondary sexual characters is:",
      options: ["Estrogen", "Progesterone", "Testosterone", "Thyroxine"],
      answer: "Estrogen"
    },
    {
      question: "The reflex arc consists of how many neurons?",
      options: ["One", "Two", "Three", "Four"],
      answer: "Three"
    },
    {
      question: "The plant movement in response to chemical stimuli is called:",
      options: ["Phototropism", "Geotropism", "Chemotropism", "Hydrotropism"],
      answer: "Chemotropism"
    },
    {
      question: "The gland that secretes both insulin and glucagon is:",
      options: ["Pituitary", "Thyroid", "Pancreas", "Adrenal"],
      answer: "Pancreas"
    },
    {
      question: "The part of the nervous system that controls voluntary actions is:",
      options: ["Autonomic nervous system", "Somatic nervous system", "Central nervous system", "Peripheral nervous system"],
      answer: "Somatic nervous system"
    },
    {
      question: "The hormone that stimulates the thyroid gland is:",
      options: ["TSH", "ACTH", "FSH", "LH"],
      answer: "TSH"
    },
    {
      question: "The plant hormone that breaks seed dormancy is:",
      options: ["Auxin", "Gibberellin", "Cytokinin", "Abscisic acid"],
      answer: "Gibberellin"
    },
    {
      question: "The deficiency of growth hormone in childhood leads to:",
      options: ["Gigantism", "Dwarfism", "Acromegaly", "Cretinism"],
      answer: "Dwarfism"
    },
    {
      question: "The part of the neuron covered by myelin sheath helps in:",
      options: ["Impulse transmission", "Nutrient storage", "Cell division", "Oxygen transport"],
      answer: "Impulse transmission"
    },
    {
      question: "The hormone that regulates the menstrual cycle is:",
      options: ["Estrogen", "Progesterone", "Testosterone", "Both Estrogen and Progesterone"],
      answer: "Both Estrogen and Progesterone"
    },
    {
      question: "The plant movement in Mimosa pudica is an example of:",
      options: ["Tropism", "Nastic movement", "Tactic movement", "Geotropism"],
      answer: "Nastic movement"
    },
    {
      question: "The hormone that increases heart rate during stress is:",
      options: ["Insulin", "Adrenaline", "Thyroxine", "Glucagon"],
      answer: "Adrenaline"
    },
    {
      question: "The part of the brain responsible for memory and intelligence is:",
      options: ["Cerebellum", "Cerebrum", "Medulla", "Hypothalamus"],
      answer: "Cerebrum"
    },
    {
      question: "The hormone that regulates iodine metabolism is:",
      options: ["Insulin", "Thyroxine", "Adrenaline", "Testosterone"],
      answer: "Thyroxine"
    },
    {
      question: "The reflex action that involves only one neuron is called:",
      options: ["Monosynaptic reflex", "Polysynaptic reflex", "Autonomic reflex", "Somatic reflex"],
      answer: "Monosynaptic reflex"
    },
    {
      question: "The plant hormone that promotes leaf senescence is:",
      options: ["Auxin", "Gibberellin", "Ethylene", "Cytokinin"],
      answer: "Ethylene"
    },
    {
      question: "The gland that controls other endocrine glands is often called the:",
      options: ["Thyroid", "Pituitary", "Adrenal", "Pancreas"],
      answer: "Pituitary"
    }
  ]
};

// Render quiz
function renderQuiz(level) {
  const quizContainer = document.getElementById("quizContainer");
  quizContainer.innerHTML = ""; // Clear previous questions
  quizData[level].forEach((item, index) => {
    const card = document.createElement("div");
    card.className = "card animate__animated animate__fadeInUp";
    card.innerHTML = `
      <div class="card__content">
        <h5>Q${index + 1}: ${item.question}</h5>
        ${item.options.map(option => `
          <label>
            <input type="radio" name="q${index}" value="${option}"> ${option}
          </label>
        `).join("")}
      </div>
    `;
    quizContainer.appendChild(card);
  });
}

// Check answers
function checkAnswers(level) {
  let score = 0;
  quizData[level].forEach((item, index) => {
    const selected = document.querySelector(`input[name="q${index}"]:checked`);
    if (selected) {
      const userAnswer = selected.value;
      if (userAnswer === item.answer) {
        score++;
        selected.parentElement.style.color = "var(--correct-color)";
      } else {
        selected.parentElement.style.color = "var(--wrong-color)";
      }
    }
  });
  const resultDiv = document.getElementById("result");
  resultDiv.innerHTML = `Your Score: ${score}/${quizData[level].length} ðŸŽ‰<br>${score === quizData[level].length ? "Full marks, bro! ðŸ˜Ž" : "Keep grinding! ðŸš€"}`;
  resultDiv.className = "result animate__animated animate__bounceIn";
}

// Level selection
document.addEventListener("DOMContentLoaded", () => {
  renderQuiz("level1"); // Default to Level 1
  document.getElementById("levelSelect").addEventListener("change", function () {
    const selectedLevel = this.value;
    renderQuiz(selectedLevel);
    document.getElementById("submitQuiz").onclick = () => checkAnswers(selectedLevel);
  });

  document.getElementById("submitQuiz").onclick = () => checkAnswers("level1");

  // Toggle sidebar
  document.querySelector('.navbar-toggler').addEventListener('click', function () {
    const sidebar = document.querySelector('.sidebar');
    const main = document.querySelector('main');
    sidebar.classList.toggle('active');
    main.classList.toggle('shifted');
  });

  // Responsive adjustment
  window.addEventListener('resize', function () {
    const sidebar = document.querySelector('.sidebar');
    const main = document.querySelector('main');
    if (window.innerWidth >= 1024) {
      sidebar.classList.remove('active');
      main.classList.remove('shifted');
      main.style.marginLeft = '250px';
    } else if (window.innerWidth >= 768) {
      main.style.marginLeft = sidebar.classList.contains('active') ? '0' : '200px';
    } else {
      main.style.marginLeft = '0';
    }
  });

  // Initial load adjustment
  window.addEventListener('load', function () {
    const sidebar = document.querySelector('.sidebar');
    const main = document.querySelector('main');
    if (window.innerWidth >= 1024) {
      main.style.marginLeft = '250px';
    } else if (window.innerWidth >= 768) {
      main.style.marginLeft = '200px';
    } else {
      main.style.marginLeft = '0';
    }
  });
});
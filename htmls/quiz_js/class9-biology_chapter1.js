// Quiz data for The Fundamental Unit of Life (Class 9 Biology) with 3 levels
const quizData = {
  level1: [
    {
      question: "What is the basic structural and functional unit of life?",
      options: ["Cell", "Tissue", "Organ", "System"],
      answer: "Cell"
    },
    {
      question: "Who discovered the cell?",
      options: ["Robert Hooke", "Anton van Leeuwenhoek", "Robert Brown", "Matthias Schleiden"],
      answer: "Robert Hooke"
    },
    {
      question: "The cell was first observed in:",
      options: ["cork", "blood", "water", "leaves"],
      answer: "cork"
    },
    {
      question: "Which organelle is known as the powerhouse of the cell?",
      options: ["Mitochondria", "Nucleus", "Ribosome", "Golgi Apparatus"],
      answer: "Mitochondria"
    },
    {
      question: "The control center of the cell is the:",
      options: ["Nucleus", "Cytoplasm", "Cell Membrane", "Endoplasmic Reticulum"],
      answer: "Nucleus"
    },
    {
      question: "Which of these is a unicellular organism?",
      options: ["Amoeba", "Human", "Dog", "Tree"],
      answer: "Amoeba"
    },
    {
      question: "The jelly-like substance inside the cell is called:",
      options: ["Cytoplasm", "Nucleoplasm", "Protoplasm", "Vacuole"],
      answer: "Cytoplasm"
    },
    {
      question: "Which cell organelle contains chlorophyll?",
      options: ["Chloroplast", "Mitochondria", "Lysosome", "Golgi Body"],
      answer: "Chloroplast"
    },
    {
      question: "The cell membrane is also called:",
      options: ["Plasma Membrane", "Nuclear Membrane", "Cell Wall", "Endoplasmic Reticulum"],
      answer: "Plasma Membrane"
    },
    {
      question: "Which of these is found only in plant cells?",
      options: ["Cell Wall", "Mitochondria", "Nucleus", "Cytoplasm"],
      answer: "Cell Wall"
    },
    {
      question: "The smallest cell in the human body is:",
      options: ["Red Blood Cell", "Nerve Cell", "Muscle Cell", "Skin Cell"],
      answer: "Red Blood Cell"
    },
    {
      question: "Which organelle helps in protein synthesis?",
      options: ["Ribosome", "Mitochondria", "Golgi Apparatus", "Lysosome"],
      answer: "Ribosome"
    },
    {
      question: "The storage sac in a cell is called:",
      options: ["Vacuole", "Nucleus", "Mitochondria", "Endoplasmic Reticulum"],
      answer: "Vacuole"
    },
    {
      question: "Which scientist proposed that all plants are made of cells?",
      options: ["Matthias Schleiden", "Theodor Schwann", "Rudolf Virchow", "Robert Hooke"],
      answer: "Matthias Schleiden"
    },
    {
      question: "The cell theory was completed by:",
      options: ["Rudolf Virchow", "Robert Hooke", "Anton van Leeuwenhoek", "Theodor Schwann"],
      answer: "Rudolf Virchow"
    },
    {
      question: "Which part of the cell allows materials to enter and exit?",
      options: ["Cell Membrane", "Cell Wall", "Nucleus", "Cytoplasm"],
      answer: "Cell Membrane"
    },
    {
      question: "Prokaryotic cells lack:",
      options: ["Nucleus", "Cell Membrane", "Cytoplasm", "Ribosome"],
      answer: "Nucleus"
    },
    {
      question: "The largest cell organelle is:",
      options: ["Nucleus", "Mitochondria", "Golgi Apparatus", "Vacuole"],
      answer: "Nucleus"
    },
    {
      question: "Which organelle destroys worn-out cell parts?",
      options: ["Lysosome", "Ribosome", "Mitochondria", "Chloroplast"],
      answer: "Lysosome"
    },
    {
      question: "Plant cells have a large central:",
      options: ["Vacuole", "Nucleus", "Mitochondria", "Ribosome"],
      answer: "Vacuole"
    }
  ],
  level2: [
    {
      question: "What is the main function of the cell membrane?",
      options: ["Protects and regulates entry/exit", "Produces energy", "Synthesizes proteins", "Stores water"],
      answer: "Protects and regulates entry/exit"
    },
    {
      question: "Which organelle is involved in detoxification?",
      options: ["Endoplasmic Reticulum", "Mitochondria", "Golgi Apparatus", "Nucleus"],
      answer: "Endoplasmic Reticulum"
    },
    {
      question: "The fluid inside the nucleus is called:",
      options: ["Nucleoplasm", "Cytoplasm", "Protoplasm", "Vacuolar Fluid"],
      answer: "Nucleoplasm"
    },
    {
      question: "Which cell organelle has its own DNA?",
      options: ["Mitochondria", "Ribosome", "Golgi Apparatus", "Lysosome"],
      answer: "Mitochondria"
    },
    {
      question: "The cell wall is made up of:",
      options: ["Cellulose", "Chitin", "Protein", "Lipid"],
      answer: "Cellulose"
    },
    {
      question: "Which scientist observed living cells for the first time?",
      options: ["Anton van Leeuwenhoek", "Robert Hooke", "Matthias Schleiden", "Theodor Schwann"],
      answer: "Anton van Leeuwenhoek"
    },
    {
      question: "The process of cell division is studied by:",
      options: ["Rudolf Virchow", "Robert Brown", "Matthias Schleiden", "Anton van Leeuwenhoek"],
      answer: "Rudolf Virchow"
    },
    {
      question: "Which part of the cell contains genetic material?",
      options: ["Nucleus", "Cytoplasm", "Mitochondria", "Vacuole"],
      answer: "Nucleus"
    },
    {
      question: "Prokaryotic cells are found in:",
      options: ["Bacteria", "Plants", "Animals", "Fungi"],
      answer: "Bacteria"
    },
    {
      question: "The site of photosynthesis in plant cells is:",
      options: ["Chloroplast", "Mitochondria", "Nucleus", "Ribosome"],
      answer: "Chloroplast"
    },
    {
      question: "Which organelle modifies and packages proteins?",
      options: ["Golgi Apparatus", "Endoplasmic Reticulum", "Lysosome", "Mitochondria"],
      answer: "Golgi Apparatus"
    },
    {
      question: "The smallest unit of life that can perform all life processes is:",
      options: ["Cell", "Tissue", "Organ", "Organ System"],
      answer: "Cell"
    },
    {
      question: "Which cell lacks a well-defined nucleus?",
      options: ["Prokaryotic", "Eukaryotic", "Plant", "Animal"],
      answer: "Prokaryotic"
    },
    {
      question: "The function of mitochondria is to produce:",
      options: ["ATP", "DNA", "RNA", "Proteins"],
      answer: "ATP"
    },
    {
      question: "Which structure supports and protects plant cells?",
      options: ["Cell Wall", "Cell Membrane", "Nucleus", "Cytoplasm"],
      answer: "Cell Wall"
    },
    {
      question: "The discovery of the nucleus was made by:",
      options: ["Robert Brown", "Robert Hooke", "Theodor Schwann", "Rudolf Virchow"],
      answer: "Robert Brown"
    },
    {
      question: "Which organelle is involved in cell division?",
      options: ["Centriole", "Ribosome", "Vacuole", "Chloroplast"],
      answer: "Centriole"
    },
    {
      question: "Eukaryotic cells are found in:",
      options: ["Plants and Animals", "Bacteria", "Archaea", "Viruses"],
      answer: "Plants and Animals"
    },
    {
      question: "The process of taking in materials by the cell membrane is:",
      options: ["Endocytosis", "Exocytosis", "Photosynthesis", "Respiration"],
      answer: "Endocytosis"
    },
    {
      question: "Which part of the cell helps in movement?",
      options: ["Cilia", "Nucleus", "Mitochondria", "Golgi Apparatus"],
      answer: "Cilia"
    }
  ],
  level3: [
    {
      question: "Which organelle is responsible for cellular respiration?",
      options: ["Mitochondria", "Chloroplast", "Lysosome", "Ribosome"],
      answer: "Mitochondria"
    },
    {
      question: "The cell theory states that all cells arise from:",
      options: ["Pre-existing cells", "New cells", "Dead cells", "External sources"],
      answer: "Pre-existing cells"
    },
    {
      question: "Which part of the cell contains enzymes for digestion?",
      options: ["Lysosome", "Golgi Apparatus", "Endoplasmic Reticulum", "Vacuole"],
      answer: "Lysosome"
    },
    {
      question: "The rough endoplasmic reticulum has:",
      options: ["Ribosomes", "No ribosomes", "Chlorophyll", "DNA"],
      answer: "Ribosomes"
    },
    {
      question: "Which scientist proposed that all animals are made of cells?",
      options: ["Theodor Schwann", "Matthias Schleiden", "Rudolf Virchow", "Robert Hooke"],
      answer: "Theodor Schwann"
    },
    {
      question: "The process of expelling materials from the cell is:",
      options: ["Exocytosis", "Endocytosis", "Phagocytosis", "Pinocytosis"],
      answer: "Exocytosis"
    },
    {
      question: "Which organelle is involved in lipid synthesis?",
      options: ["Smooth ER", "Rough ER", "Golgi Apparatus", "Lysosome"],
      answer: "Smooth ER"
    },
    {
      question: "The nuclear membrane has pores for:",
      options: ["Material exchange", "Energy production", "Protein synthesis", "Cell division"],
      answer: "Material exchange"
    },
    {
      question: "Prokaryotic cells lack a true nucleus but have:",
      options: ["Nucleoid", "Nucleolus", "Nuclear Membrane", "Chromatin"],
      answer: "Nucleoid"
    },
    {
      question: "The function of the vacuole in plant cells is to:",
      options: ["Store nutrients", "Produce energy", "Synthesize proteins", "Digest waste"],
      answer: "Store nutrients"
    },
    {
      question: "Which organelle is absent in animal cells?",
      options: ["Cell Wall", "Mitochondria", "Nucleus", "Cell Membrane"],
      answer: "Cell Wall"
    },
    {
      question: "The process of taking in solid particles by the cell is:",
      options: ["Phagocytosis", "Pinocytosis", "Exocytosis", "Osmosis"],
      answer: "Phagocytosis"
    },
    {
      question: "The cell wall provides rigidity due to:",
      options: ["Cellulose", "Chitin", "Peptidoglycan", "Protein"],
      answer: "Cellulose"
    },
    {
      question: "Which part of the cell controls heredity?",
      options: ["Chromosomes", "Cytoplasm", "Mitochondria", "Golgi Apparatus"],
      answer: "Chromosomes"
    },
    {
      question: "The smooth endoplasmic reticulum is involved in:",
      options: ["Lipid metabolism", "Protein synthesis", "ATP production", "DNA replication"],
      answer: "Lipid metabolism"
    },
    {
      question: "Which organelle is known as the suicidal bag of the cell?",
      options: ["Lysosome", "Mitochondria", "Ribosome", "Vacuole"],
      answer: "Lysosome"
    },
    {
      question: "The movement of water across the cell membrane is called:",
      options: ["Osmosis", "Diffusion", "Active Transport", "Phagocytosis"],
      answer: "Osmosis"
    },
    {
      question: "Eukaryotic cells have a well-defined:",
      options: ["Nucleus", "Nucleoid", "Cell Wall", "Plasmid"],
      answer: "Nucleus"
    },
    {
      question: "The organelle that helps in cell movement and structure is:",
      options: ["Cytoskeleton", "Chloroplast", "Golgi Apparatus", "Nucleus"],
      answer: "Cytoskeleton"
    },
    {
      question: "Which part of the cell is responsible for transcription?",
      options: ["Nucleus", "Cytoplasm", "Mitochondria", "Ribosome"],
      answer: "Nucleus"
    }
  ]
};

// Render quiz
function renderQuiz(level) {
  const quizContainer = document.getElementById("quizContainer");
  quizContainer.innerHTML = ""; // Clear previous questions
  quizData[level].forEach((item, index) => {
    const card = document.createElement("div");
    card.className = "card animate__animated animate__fadeInUp";
    card.innerHTML = `
      <div class="card__content">
        <h5>Q${index + 1}: ${item.question}</h5>
        ${item.options.map(option => `
          <label>
            <input type="radio" name="q${index}" value="${option}"> ${option}
          </label>
        `).join("")}
      </div>
    `;
    quizContainer.appendChild(card);
  });
}

// Check answers
function checkAnswers(level) {
  let score = 0;
  quizData[level].forEach((item, index) => {
    const selected = document.querySelector(`input[name="q${index}"]:checked`);
    if (selected) {
      const userAnswer = selected.value;
      if (userAnswer === item.answer) {
        score++;
        selected.parentElement.style.color = "var(--correct-color)";
      } else {
        selected.parentElement.style.color = "var(--wrong-color)";
      }
    }
  });
  const resultDiv = document.getElementById("result");
  resultDiv.innerHTML = `Your Score: ${score}/${quizData[level].length} 🎉<br>${score === quizData[level].length ? "Full marks, bro! 😎" : "Keep grinding! 🚀"}`;
  resultDiv.className = "result animate__animated animate__bounceIn";
}

// Level selection
document.addEventListener("DOMContentLoaded", () => {
  renderQuiz("level1"); // Default to Level 1
  document.getElementById("levelSelect").addEventListener("change", function () {
    const selectedLevel = this.value;
    renderQuiz(selectedLevel);
    document.getElementById("submitQuiz").onclick = () => checkAnswers(selectedLevel);
  });

  document.getElementById("submitQuiz").onclick = () => checkAnswers("level1");

  // Toggle sidebar
  document.querySelector('.navbar-toggler').addEventListener('click', function () {
    const sidebar = document.querySelector('.sidebar');
    const main = document.querySelector('main');
    sidebar.classList.toggle('active');
    main.classList.toggle('shifted');
  });

  // Responsive adjustment
  window.addEventListener('resize', function () {
    const sidebar = document.querySelector('.sidebar');
    const main = document.querySelector('main');
    if (window.innerWidth >= 1024) {
      sidebar.classList.remove('active');
      main.classList.remove('shifted');
      main.style.marginLeft = '250px';
    } else if (window.innerWidth >= 768) {
      main.style.marginLeft = sidebar.classList.contains('active') ? '0' : '200px';
    } else {
      main.style.marginLeft = '0';
    }
  });

  // Initial load adjustment
  window.addEventListener('load', function () {
    const sidebar = document.querySelector('.sidebar');
    const main = document.querySelector('main');
    if (window.innerWidth >= 1024) {
      main.style.marginLeft = '250px';
    } else if (window.innerWidth >= 768) {
      main.style.marginLeft = '200px';
    } else {
      main.style.marginLeft = '0';
    }
  });
});
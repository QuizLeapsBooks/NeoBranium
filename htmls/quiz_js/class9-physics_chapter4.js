// Quiz data for Work and Energy (Class 9 Physics) with 3 levels
const quizData = {
  level1: [
    {
      question: "What is the SI unit of work?",
      options: ["Joule", "Watt", "Newton", "Pascal"],
      answer: "Joule"
    },
    {
      question: "Work is said to be done when a force causes:",
      options: ["displacement", "acceleration", "friction", "velocity"],
      answer: "displacement"
    },
    {
      question: "The energy possessed by a body due to its motion is called:",
      options: ["potential energy", "kinetic energy", "chemical energy", "thermal energy"],
      answer: "kinetic energy"
    },
    {
      question: "The energy stored in an object due to its height is:",
      options: ["kinetic energy", "potential energy", "mechanical energy", "electrical energy"],
      answer: "potential energy"
    },
    {
      question: "The rate of doing work is called:",
      options: ["power", "energy", "force", "momentum"],
      answer: "power"
    },
    {
      question: "The SI unit of power is:",
      options: ["Joule", "Watt", "Newton", "Kilogram"],
      answer: "Watt"
    },
    {
      question: "When a body falls freely, its potential energy converts to:",
      options: ["kinetic energy", "chemical energy", "thermal energy", "electrical energy"],
      answer: "kinetic energy"
    },
    {
      question: "Energy can neither be created nor destroyed, this is:",
      options: ["law of conservation of energy", "law of motion", "law of gravity", "law of thermodynamics"],
      answer: "law of conservation of energy"
    },
    {
      question: "A stretched spring has:",
      options: ["kinetic energy", "potential energy", "thermal energy", "nuclear energy"],
      answer: "potential energy"
    },
    {
      question: "Work done is zero when force and displacement are:",
      options: ["in same direction", "opposite", "perpendicular", "at 45°"],
      answer: "perpendicular"
    },
    {
      question: "The commercial unit of energy is:",
      options: ["Watt-hour", "Joule", "Kilowatt-hour", "Newton-meter"],
      answer: "Kilowatt-hour"
    },
    {
      question: "Energy from the sun is called:",
      options: ["thermal energy", "solar energy", "wind energy", "hydel energy"],
      answer: "solar energy"
    },
    {
      question: "A body at rest has:",
      options: ["kinetic energy only", "potential energy only", "both energies", "no energy"],
      answer: "potential energy only"
    },
    {
      question: "Power is work done divided by:",
      options: ["force", "time", "distance", "mass"],
      answer: "time"
    },
    {
      question: "Kinetic energy depends on:",
      options: ["mass and velocity", "mass and height", "weight and distance", "force and time"],
      answer: "mass and velocity"
    },
    {
      question: "Potential energy formula is:",
      options: ["mgh", "mv²", "F × d", "P × t"],
      answer: "mgh"
    },
    {
      question: "A pendulum’s energy converts between:",
      options: ["kinetic and potential", "thermal and electrical", "chemical and nuclear", "mechanical and sound"],
      answer: "kinetic and potential"
    },
    {
      question: "Flowing water energy is:",
      options: ["solar energy", "hydel energy", "wind energy", "tidal energy"],
      answer: "hydel energy"
    },
    {
      question: "If velocity doubles, kinetic energy becomes:",
      options: ["half", "double", "four times", "unchanged"],
      answer: "four times"
    },
    {
      question: "Work is positive when force and displacement are:",
      options: ["perpendicular", "opposite", "same direction", "at 45°"],
      answer: "same direction"
    }
  ],
  level2: [
    {
      question: "What is the work done if force is 10 N and displacement is 5 m at 0°?",
      options: ["50 J", "25 J", "0 J", "100 J"],
      answer: "50 J"
    },
    {
      question: "Kinetic energy of a 2 kg object moving at 3 m/s is:",
      options: ["9 J", "18 J", "6 J", "12 J"],
      answer: "9 J"
    },
    {
      question: "Potential energy of a 5 kg object at 10 m height (g = 10 m/s²) is:",
      options: ["500 J", "250 J", "100 J", "50 J"],
      answer: "500 J"
    },
    {
      question: "Power of a machine doing 200 J work in 4 s is:",
      options: ["50 W", "100 W", "200 W", "800 W"],
      answer: "50 W"
    },
    {
      question: "If mass is doubled, kinetic energy becomes:",
      options: ["half", "double", "four times", "same"],
      answer: "double"
    },
    {
      question: "Work done against gravity is stored as:",
      options: ["kinetic energy", "potential energy", "thermal energy", "sound energy"],
      answer: "potential energy"
    },
    {
      question: "1 kWh is equal to:",
      options: ["3.6 × 10⁶ J", "3.6 × 10⁵ J", "3.6 × 10⁴ J", "3.6 × 10³ J"],
      answer: "3.6 × 10⁶ J"
    },
    {
      question: "Energy conversion in a battery is:",
      options: ["chemical to electrical", "kinetic to potential", "thermal to mechanical", "solar to wind"],
      answer: "chemical to electrical"
    },
    {
      question: "If displacement is zero, work done is:",
      options: ["positive", "negative", "zero", "infinite"],
      answer: "zero"
    },
    {
      question: "The efficiency of a machine is always:",
      options: ["100%", "less than 100%", "more than 100%", "zero"],
      answer: "less than 100%"
    },
    {
      question: "A car’s kinetic energy increases by 4 times if its speed:",
      options: ["doubles", "triples", "quadruples", "halves"],
      answer: "doubles"
    },
    {
      question: "Work done in lifting a 10 kg object by 2 m (g = 10 m/s²) is:",
      options: ["200 J", "100 J", "50 J", "400 J"],
      answer: "200 J"
    },
    {
      question: "Energy lost as heat in a system is due to:",
      options: ["friction", "gravity", "inertia", "momentum"],
      answer: "friction"
    },
    {
      question: "The unit of energy in CGS system is:",
      options: ["erg", "joule", "watt", "newton"],
      answer: "erg"
    },
    {
      question: "Power is measured in horsepower, where 1 hp is:",
      options: ["746 W", "100 W", "500 W", "1000 W"],
      answer: "746 W"
    },
    {
      question: "A body at the top of a hill has maximum:",
      options: ["kinetic energy", "potential energy", "both energies", "no energy"],
      answer: "potential energy"
    },
    {
      question: "Work done by a constant force is given by:",
      options: ["F × d × cosθ", "m × v", "P × t", "mgh"],
      answer: "F × d × cosθ"
    },
    {
      question: "Renewable energy source is:",
      options: ["coal", "solar", "petroleum", "natural gas"],
      answer: "solar"
    },
    {
      question: "If force is 20 N and displacement is 3 m at 60°, work done is:",
      options: ["30 J", "60 J", "15 J", "120 J"],
      answer: "30 J"
    },
    {
      question: "Energy of a moving pendulum at the mean position is:",
      options: ["potential energy", "kinetic energy", "both", "none"],
      answer: "kinetic energy"
    }
  ],
  level3: [
    {
      question: "Calculate work done if force is 15 N, displacement is 4 m, and angle is 30°.",
      options: ["30 J", "60 J", "52 J", "120 J"],
      answer: "52 J"
    },
    {
      question: "Kinetic energy of a 3 kg object at 5 m/s with wind resistance is adjusted to:",
      options: ["37.5 J", "75 J", "50 J", "25 J"],
      answer: "37.5 J"
    },
    {
      question: "Potential energy of a 2 kg object at 15 m (g = 9.8 m/s²) is:",
      options: ["294 J", "147 J", "196 J", "98 J"],
      answer: "294 J"
    },
    {
      question: "Power of a motor lifting 1000 J in 2 s with 80% efficiency is:",
      options: ["400 W", "500 W", "800 W", "1000 W"],
      answer: "500 W"
    },
    {
      question: "If velocity triples, kinetic energy becomes:",
      options: ["3 times", "6 times", "9 times", "12 times"],
      answer: "9 times"
    },
    {
      question: "Work-energy theorem states that work done equals change in:",
      options: ["kinetic energy", "potential energy", "total energy", "power"],
      answer: "kinetic energy"
    },
    {
      question: "Energy lost in a pulley system due to friction is:",
      options: ["kinetic energy", "potential energy", "mechanical energy", "thermal energy"],
      answer: "thermal energy"
    },
    {
      question: "1 MJ (Megajoule) is equal to:",
      options: ["10⁶ J", "10⁵ J", "10⁴ J", "10³ J"],
      answer: "10⁶ J"
    },
    {
      question: "Work done in circular motion with constant speed is:",
      options: ["positive", "negative", "zero", "infinite"],
      answer: "zero"
    },
    {
      question: "Efficiency of an ideal machine is:",
      options: ["0%", "50%", "100%", "variable"],
      answer: "100%"
    },
    {
      question: "If mass and velocity both double, kinetic energy becomes:",
      options: ["2 times", "4 times", "8 times", "16 times"],
      answer: "8 times"
    },
    {
      question: "Work done to stop a 5 kg car moving at 4 m/s is:",
      options: ["40 J", "80 J", "20 J", "100 J"],
      answer: "40 J"
    },
    {
      question: "Energy conversion in a hydroelectric plant is:",
      options: ["thermal to electrical", "kinetic to electrical", "potential to electrical", "chemical to electrical"],
      answer: "potential to electrical"
    },
    {
      question: "Power required to lift 50 kg at 2 m/s (g = 10 m/s²) is:",
      options: ["500 W", "1000 W", "250 W", "2000 W"],
      answer: "1000 W"
    },
    {
      question: "A body’s total mechanical energy is conserved if:",
      options: ["no friction", "constant force", "variable speed", "high temperature"],
      answer: "no friction"
    },
    {
      question: "Work done by gravity on a ball thrown upward is:",
      options: ["positive", "negative", "zero", "infinite"],
      answer: "negative"
    },
    {
      question: "Energy of a compressed gas is:",
      options: ["kinetic energy", "potential energy", "elastic potential energy", "thermal energy"],
      answer: "elastic potential energy"
    },
    {
      question: "If work done is 300 J in 6 s, power is:",
      options: ["50 W", "100 W", "200 W", "300 W"],
      answer: "50 W"
    },
    {
      question: "Kinetic energy at the highest point of projectile motion is:",
      options: ["maximum", "minimum", "zero", "constant"],
      answer: "zero"
    },
    {
      question: "Energy lost in a transformer is due to:",
      options: ["friction", "heat", "gravity", "inertia"],
      answer: "heat"
    }
  ]
};

// Render quiz
function renderQuiz(level) {
  const quizContainer = document.getElementById("quizContainer");
  quizContainer.innerHTML = ""; // Clear previous questions
  quizData[level].forEach((item, index) => {
    const card = document.createElement("div");
    card.className = "card animate__animated animate__fadeInUp";
    card.innerHTML = `
      <div class="card__content">
        <h5>Q${index + 1}: ${item.question}</h5>
        ${item.options.map(option => `
          <label>
            <input type="radio" name="q${index}" value="${option}"> ${option}
          </label>
        `).join("")}
      </div>
    `;
    quizContainer.appendChild(card);
  });
}

// Check answers
function checkAnswers(level) {
  let score = 0;
  quizData[level].forEach((item, index) => {
    const selected = document.querySelector(`input[name="q${index}"]:checked`);
    if (selected) {
      const userAnswer = selected.value;
      if (userAnswer === item.answer) {
        score++;
        selected.parentElement.style.color = "var(--correct-color)";
      } else {
        selected.parentElement.style.color = "var(--wrong-color)";
      }
    }
  });
  const resultDiv = document.getElementById("result");
  resultDiv.innerHTML = `Your Score: ${score}/${quizData[level].length} 🎉<br>${score === quizData[level].length ? "Full marks, bro! 😎" : "Keep grinding! 🚀"}`;
  resultDiv.className = "result animate__animated animate__bounceIn";
}

// Level selection
document.addEventListener("DOMContentLoaded", () => {
  renderQuiz("level1"); // Default to Level 1
  document.getElementById("levelSelect").addEventListener("change", function () {
    const selectedLevel = this.value;
    renderQuiz(selectedLevel);
    document.getElementById("submitQuiz").onclick = () => checkAnswers(selectedLevel);
  });

  document.getElementById("submitQuiz").onclick = () => checkAnswers("level1");

  // Toggle sidebar
  document.querySelector('.navbar-toggler').addEventListener('click', function () {
    const sidebar = document.querySelector('.sidebar');
    const main = document.querySelector('main');
    sidebar.classList.toggle('active');
    main.classList.toggle('shifted');
  });

  // Responsive adjustment
  window.addEventListener('resize', function () {
    const sidebar = document.querySelector('.sidebar');
    const main = document.querySelector('main');
    if (window.innerWidth >= 1024) {
      sidebar.classList.remove('active');
      main.classList.remove('shifted');
      main.style.marginLeft = '250px';
    } else if (window.innerWidth >= 768) {
      main.style.marginLeft = sidebar.classList.contains('active') ? '0' : '200px';
    } else {
      main.style.marginLeft = '0';
    }
  });

  // Initial load adjustment
  window.addEventListener('load', function () {
    const sidebar = document.querySelector('.sidebar');
    const main = document.querySelector('main');
    if (window.innerWidth >= 1024) {
      main.style.marginLeft = '250px';
    } else if (window.innerWidth >= 768) {
      main.style.marginLeft = '200px';
    } else {
      main.style.marginLeft = '0';
    }
  });
});
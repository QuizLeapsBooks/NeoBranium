// Quiz data for Tissues (Class 9 Biology) with 3 levels
const quizData = {
  level1: [
    {
      question: "What is a group of similar cells that perform a specific function called?",
      options: ["Tissue", "Organ", "System", "Cell"],
      answer: "Tissue"
    },
    {
      question: "Which tissue provides support and structure to plants?",
      options: ["Meristematic Tissue", "Parenchyma", "Collenchyma", "Sclerenchyma"],
      answer: "Sclerenchyma"
    },
    {
      question: "The tissue that transports water in plants is:",
      options: ["Xylem", "Phloem", "Cambium", "Epidermis"],
      answer: "Xylem"
    },
    {
      question: "Which tissue is responsible for movement in animals?",
      options: ["Muscular Tissue", "Nervous Tissue", "Epithelial Tissue", "Connective Tissue"],
      answer: "Muscular Tissue"
    },
    {
      question: "The tissue that covers the surface of organs is:",
      options: ["Epithelial Tissue", "Connective Tissue", "Muscular Tissue", "Nervous Tissue"],
      answer: "Epithelial Tissue"
    },
    {
      question: "Which plant tissue is responsible for growth?",
      options: ["Meristematic Tissue", "Permanent Tissue", "Xylem", "Phloem"],
      answer: "Meristematic Tissue"
    },
    {
      question: "The tissue that connects muscles to bones is:",
      options: ["Tendon", "Ligament", "Cartilage", "Bone"],
      answer: "Tendon"
    },
    {
      question: "Which tissue transports food in plants?",
      options: ["Phloem", "Xylem", "Cambium", "Parenchyma"],
      answer: "Phloem"
    },
    {
      question: "The tissue that provides flexibility in plants is:",
      options: ["Collenchyma", "Sclerenchyma", "Parenchyma", "Xylem"],
      answer: "Collenchyma"
    },
    {
      question: "Which tissue insulates and protects the body?",
      options: ["Adipose Tissue", "Blood", "Bone", "Cartilage"],
      answer: "Adipose Tissue"
    },
    {
      question: "The tissue that carries messages in the body is:",
      options: ["Nervous Tissue", "Muscular Tissue", "Epithelial Tissue", "Connective Tissue"],
      answer: "Nervous Tissue"
    },
    {
      question: "Which plant tissue stores food?",
      options: ["Parenchyma", "Collenchyma", "Sclerenchyma", "Meristematic Tissue"],
      answer: "Parenchyma"
    },
    {
      question: "The tissue that connects bones to bones is:",
      options: ["Ligament", "Tendon", "Cartilage", "Muscle"],
      answer: "Ligament"
    },
    {
      question: "Which tissue forms the inner lining of blood vessels?",
      options: ["Epithelial Tissue", "Connective Tissue", "Muscular Tissue", "Nervous Tissue"],
      answer: "Epithelial Tissue"
    },
    {
      question: "The hardest connective tissue is:",
      options: ["Bone", "Cartilage", "Blood", "Adipose Tissue"],
      answer: "Bone"
    },
    {
      question: "Which tissue helps in wound healing?",
      options: ["Connective Tissue", "Epithelial Tissue", "Muscular Tissue", "Nervous Tissue"],
      answer: "Connective Tissue"
    },
    {
      question: "The tissue that lacks blood supply is:",
      options: ["Cartilage", "Blood", "Bone", "Adipose Tissue"],
      answer: "Cartilage"
    },
    {
      question: "Which plant tissue provides mechanical strength?",
      options: ["Sclerenchyma", "Parenchyma", "Collenchyma", "Meristematic Tissue"],
      answer: "Sclerenchyma"
    },
    {
      question: "The tissue that contracts and relaxes is:",
      options: ["Muscular Tissue", "Nervous Tissue", "Epithelial Tissue", "Connective Tissue"],
      answer: "Muscular Tissue"
    },
    {
      question: "Which tissue is found in the brain and spinal cord?",
      options: ["Nervous Tissue", "Muscular Tissue", "Epithelial Tissue", "Connective Tissue"],
      answer: "Nervous Tissue"
    }
  ],
  level2: [
    {
      question: "Which type of epithelial tissue has cilia?",
      options: ["Ciliated Epithelium", "Squamous Epithelium", "Cuboidal Epithelium", "Columnar Epithelium"],
      answer: "Ciliated Epithelium"
    },
    {
      question: "The main function of xylem is to transport:",
      options: ["Water and minerals", "Food", "Hormones", "Oxygen"],
      answer: "Water and minerals"
    },
    {
      question: "Which connective tissue is liquid?",
      options: ["Blood", "Bone", "Cartilage", "Adipose Tissue"],
      answer: "Blood"
    },
    {
      question: "The meristematic tissue is classified based on:",
      options: ["Position", "Function", "Size", "Color"],
      answer: "Position"
    },
    {
      question: "Which muscular tissue is involuntary?",
      options: ["Smooth Muscle", "Skeletal Muscle", "Cardiac Muscle", "All of these"],
      answer: "Smooth Muscle"
    },
    {
      question: "The phloem tissue contains which component for transport?",
      options: ["Sieve Tubes", "Tracheids", "Vessels", "Fibres"],
      answer: "Sieve Tubes"
    },
    {
      question: "Which tissue provides elasticity to the skin?",
      options: ["Areolar Tissue", "Adipose Tissue", "Cartilage", "Bone"],
      answer: "Areolar Tissue"
    },
    {
      question: "The apical meristem is responsible for:",
      options: ["Length growth", "Width growth", "Repair", "Storage"],
      answer: "Length growth"
    },
    {
      question: "Which tissue lines the digestive tract?",
      options: ["Columnar Epithelium", "Squamous Epithelium", "Cuboidal Epithelium", "Ciliated Epithelium"],
      answer: "Columnar Epithelium"
    },
    {
      question: "The tissue that forms the framework of the body is:",
      options: ["Connective Tissue", "Epithelial Tissue", "Muscular Tissue", "Nervous Tissue"],
      answer: "Connective Tissue"
    },
    {
      question: "Which plant tissue undergoes secondary growth?",
      options: ["Cambium", "Parenchyma", "Collenchyma", "Sclerenchyma"],
      answer: "Cambium"
    },
    {
      question: "The cardiac muscle is found in the:",
      options: ["Heart", "Stomach", "Limbs", "Brain"],
      answer: "Heart"
    },
    {
      question: "Which tissue helps in the conduction of impulses?",
      options: ["Nervous Tissue", "Muscular Tissue", "Epithelial Tissue", "Connective Tissue"],
      answer: "Nervous Tissue"
    },
    {
      question: "The sclerenchyma cells are characterized by:",
      options: ["Thick walls", "Thin walls", "No nucleus", "Elasticity"],
      answer: "Thick walls"
    },
    {
      question: "Which tissue protects the underlying tissues?",
      options: ["Epithelial Tissue", "Connective Tissue", "Muscular Tissue", "Nervous Tissue"],
      answer: "Epithelial Tissue"
    },
    {
      question: "The lateral meristem is responsible for:",
      options: ["Width growth", "Length growth", "Repair", "Storage"],
      answer: "Width growth"
    },
    {
      question: "Which connective tissue stores fat?",
      options: ["Adipose Tissue", "Areolar Tissue", "Cartilage", "Blood"],
      answer: "Adipose Tissue"
    },
    {
      question: "The tissue that supports the nose and ears is:",
      options: ["Cartilage", "Bone", "Blood", "Adipose Tissue"],
      answer: "Cartilage"
    },
    {
      question: "Which plant tissue is living and flexible?",
      options: ["Collenchyma", "Sclerenchyma", "Xylem", "Phloem"],
      answer: "Collenchyma"
    },
    {
      question: "The skeletal muscle is controlled by:",
      options: ["Voluntary action", "Involuntary action", "Reflex action", "Autonomic action"],
      answer: "Voluntary action"
    }
  ],
  level3: [
    {
      question: "Which epithelial tissue is found in the alveoli of lungs?",
      options: ["Squamous Epithelium", "Cuboidal Epithelium", "Columnar Epithelium", "Ciliated Epithelium"],
      answer: "Squamous Epithelium"
    },
    {
      question: "The xylem vessels are made up of:",
      options: ["Dead cells", "Living cells", "Meristematic cells", "Parenchyma cells"],
      answer: "Dead cells"
    },
    {
      companion: "Which connective tissue has a matrix of fibers and cells?",
      options: ["Areolar Tissue", "Adipose Tissue", "Blood", "Bone"],
      answer: "Areolar Tissue"
    },
    {
      question: "The intercalated discs are found in:",
      options: ["Cardiac Muscle", "Skeletal Muscle", "Smooth Muscle", "Nervous Tissue"],
      answer: "Cardiac Muscle"
    },
    {
      question: "Which plant tissue is responsible for secondary thickening?",
      options: ["Vascular Cambium", "Cork Cambium", "Apical Meristem", "Intercalary Meristem"],
      answer: "Vascular Cambium"
    },
    {
      question: "The tissue that forms the myelin sheath is:",
      options: ["Schwann Cells", "Neurons", "Astrocytes", "Oligodendrocytes"],
      answer: "Schwann Cells"
    },
    {
      question: "Which tissue is involved in the formation of bark?",
      options: ["Cork Cambium", "Vascular Cambium", "Phloem", "Xylem"],
      answer: "Cork Cambium"
    },
    {
      question: "The cuboidal epithelium is specialized for:",
      options: ["Secretion and absorption", "Protection", "Movement", "Conduction"],
      answer: "Secretion and absorption"
    },
    {
      question: "Which tissue has a matrix of calcium salts?",
      options: ["Bone", "Cartilage", "Blood", "Adipose Tissue"],
      answer: "Bone"
    },
    {
      question: "The phloem companion cells help in:",
      options: ["Loading sugar", "Transporting water", "Providing strength", "Storing food"],
      answer: "Loading sugar"
    },
    {
      question: "Which muscle tissue has striations and is involuntary?",
      options: ["Cardiac Muscle", "Skeletal Muscle", "Smooth Muscle", "All of these"],
      answer: "Cardiac Muscle"
    },
    {
      question: "The tissue that lines the kidney tubules is:",
      options: ["Cuboidal Epithelium", "Squamous Epithelium", "Columnar Epithelium", "Ciliated Epithelium"],
      answer: "Cuboidal Epithelium"
    },
    {
      question: "Which plant tissue undergoes cell division throughout life?",
      options: ["Meristematic Tissue", "Permanent Tissue", "Xylem", "Phloem"],
      answer: "Meristematic Tissue"
    },
    {
      question: "The tissue that forms the dermis of the skin is:",
      options: ["Areolar Tissue", "Adipose Tissue", "Cartilage", "Bone"],
      answer: "Areolar Tissue"
    },
    {
      question: "Which tissue is responsible for the transport of oxygen?",
      options: ["Blood", "Lymph", "Bone Marrow", "Cartilage"],
      answer: "Blood"
    },
    {
      question: "The sclereids are a type of:",
      options: ["Sclerenchyma", "Collenchyma", "Parenchyma", "Meristematic Tissue"],
      answer: "Sclerenchyma"
    },
    {
      question: "Which epithelial tissue is found in the trachea?",
      options: ["Ciliated Columnar Epithelium", "Squamous Epithelium", "Cuboidal Epithelium", "Stratified Epithelium"],
      answer: "Ciliated Columnar Epithelium"
    },
    {
      question: "The tissue that provides tensile strength in plants is:",
      options: ["Sclerenchyma", "Collenchyma", "Parenchyma", "Xylem"],
      answer: "Sclerenchyma"
    },
    {
      question: "Which connective tissue has a gel-like matrix?",
      options: ["Areolar Tissue", "Adipose Tissue", "Cartilage", "Blood"],
      answer: "Areolar Tissue"
    },
    {
      question: "The intercalary meristem is found in:",
      options: ["Grasses", "Trees", "Shrubs", "Vines"],
      answer: "Grasses"
    }
  ]
};

// Render quiz
function renderQuiz(level) {
  const quizContainer = document.getElementById("quizContainer");
  quizContainer.innerHTML = ""; // Clear previous questions
  quizData[level].forEach((item, index) => {
    const card = document.createElement("div");
    card.className = "card animate__animated animate__fadeInUp";
    card.innerHTML = `
      <div class="card__content">
        <h5>Q${index + 1}: ${item.question}</h5>
        ${item.options.map(option => `
          <label>
            <input type="radio" name="q${index}" value="${option}"> ${option}
          </label>
        `).join("")}
      </div>
    `;
    quizContainer.appendChild(card);
  });
}

// Check answers
function checkAnswers(level) {
  let score = 0;
  quizData[level].forEach((item, index) => {
    const selected = document.querySelector(`input[name="q${index}"]:checked`);
    if (selected) {
      const userAnswer = selected.value;
      if (userAnswer === item.answer) {
        score++;
        selected.parentElement.style.color = "var(--correct-color)";
      } else {
        selected.parentElement.style.color = "var(--wrong-color)";
      }
    }
  });
  const resultDiv = document.getElementById("result");
  resultDiv.innerHTML = `Your Score: ${score}/${quizData[level].length} 🎉<br>${score === quizData[level].length ? "Full marks, bro! 😎" : "Keep grinding! 🚀"}`;
  resultDiv.className = "result animate__animated animate__bounceIn";
}

// Level selection
document.addEventListener("DOMContentLoaded", () => {
  renderQuiz("level1"); // Default to Level 1
  document.getElementById("levelSelect").addEventListener("change", function () {
    const selectedLevel = this.value;
    renderQuiz(selectedLevel);
    document.getElementById("submitQuiz").onclick = () => checkAnswers(selectedLevel);
  });

  document.getElementById("submitQuiz").onclick = () => checkAnswers("level1");

  // Toggle sidebar
  document.querySelector('.navbar-toggler').addEventListener('click', function () {
    const sidebar = document.querySelector('.sidebar');
    const main = document.queryselector('main');
    sidebar.classList.toggle('active');
    main.classList.toggle('shifted');
  });

  // Responsive adjustment
  window.addEventListener('resize', function () {
    const sidebar = document.queryselector('.sidebar');
    const main = document.querySelector('main');
    if (window.innerWidth >= 1024) {
      sidebar.classList.remove('active');
      main.classList.remove('shifted');
      main.style.marginLeft = '250px';
    } else if (window.innerWidth >= 768) {
      main.style.marginLeft = sidebar.classList.contains('active') ? '0' : '200px';
    } else {
      main.style.marginLeft = '0';
    }
  });

  // Initial load adjustment
  window.addEventListener('load', function () {
    const sidebar = document.querySelector('.sidebar');
    const main = document.querySelector('main');
    if (window.innerWidth >= 1024) {
      main.style.marginLeft = '250px';
    } else if (window.innerWidth >= 768) {
      main.style.marginLeft = '200px';
    } else {
      main.style.marginLeft = '0';
    }
  });
});
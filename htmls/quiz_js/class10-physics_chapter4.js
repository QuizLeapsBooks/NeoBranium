const quizData = {
  level1: [
    {
      question: "The magnetic field around a current-carrying conductor was discovered by:",
      options: ["Faraday", "Oersted", "Fleming", "Ampere"],
      answer: "Oersted"
    },
    {
      question: "The direction of the magnetic field around a straight conductor is given by:",
      options: ["Right-hand thumb rule", "Left-hand thumb rule", "Fleming’s left-hand rule", "Fleming’s right-hand rule"],
      answer: "Right-hand thumb rule"
    },
    {
      question: "The magnetic field inside a solenoid is:",
      options: ["Zero", "Uniform", "Circular", "Varying"],
      answer: "Uniform"
    },
    {
      question: "A device that converts electrical energy into mechanical energy is:",
      options: ["Generator", "Motor", "Transformer", "Galvanometer"],
      answer: "Motor"
    },
    {
      question: "The SI unit of magnetic field strength is:",
      options: ["Tesla", "Ampere", "Ohm", "Watt"],
      answer: "Tesla"
    },
    {
      question: "The direction of force on a current-carrying conductor in a magnetic field is given by:",
      options: ["Right-hand thumb rule", "Fleming’s left-hand rule", "Fleming’s right-hand rule", "Ampere’s rule"],
      answer: "Fleming’s left-hand rule"
    },
    {
      question: "A device that converts mechanical energy into electrical energy is:",
      options: ["Motor", "Generator", "Transformer", "Solenoid"],
      answer: "Generator"
    },
    {
      question: "The direction of induced current in a generator is given by:",
      options: ["Fleming’s left-hand rule", "Fleming’s right-hand rule", "Right-hand thumb rule", "Ampere’s rule"],
      answer: "Fleming’s right-hand rule"
    },
    {
      question: "The magnetic field lines of a bar magnet form:",
      options: ["Closed loops", "Open loops", "Straight lines", "Circles"],
      answer: "Closed loops"
    },
    {
      question: "A current-carrying conductor produces a magnetic field that is:",
      options: ["Linear", "Circular", "Radial", "Uniform"],
      answer: "Circular"
    },
    {
      question: "The device used to detect electric current in a circuit is:",
      options: ["Ammeter", "Voltmeter", "Galvanometer", "Transformer"],
      answer: "Galvanometer"
    },
    {
      question: "The phenomenon of inducing current by changing magnetic field is called:",
      options: ["Electromagnetic induction", "Electrostatic induction", "Magnetic flux", "Electric flux"],
      answer: "Electromagnetic induction"
    },
    {
      question: "A solenoid behaves like a:",
      options: ["Bar magnet", "Circular magnet", "Straight conductor", "Resistor"],
      answer: "Bar magnet"
    },
    {
      question: "The magnetic field lines inside a bar magnet move from:",
      options: ["North to South", "South to North", "East to West", "West to East"],
      answer: "South to North"
    },
    {
      question: "A fuse in an electric circuit is used to:",
      options: ["Increase current", "Protect circuit", "Measure current", "Reduce voltage"],
      answer: "Protect circuit"
    },
    {
      question: "The frequency of household AC in India is:",
      options: ["50 Hz", "60 Hz", "100 Hz", "120 Hz"],
      answer: "50 Hz"
    },
    {
      question: "The live wire in a domestic circuit is usually colored:",
      options: ["Red", "Green", "Black", "Yellow"],
      answer: "Red"
    },
    {
      question: "The earth wire in a domestic circuit is colored:",
      options: ["Red", "Green", "Black", "Blue"],
      answer: "Green"
    },
    {
      question: "The process of changing AC to DC is called:",
      options: ["Rectification", "Amplification", "Transformation", "Induction"],
      answer: "Rectification"
    },
    {
      question: "The strength of the magnetic field in a solenoid depends on:",
      options: ["Number of turns", "Current", "Core material", "All of these"],
      answer: "All of these"
    }
  ],
  level2: [
    {
      question: "The magnetic field strength inside a solenoid increases with:",
      options: ["Decrease in current", "Increase in number of turns", "Decrease in core permeability", "Increase in length"],
      answer: "Increase in number of turns"
    },
    {
      question: "A current-carrying wire experiences maximum force in a magnetic field when it is:",
      options: ["Parallel to field", "Perpendicular to field", "At 45° to field", "At 0° to field"],
      answer: "Perpendicular to field"
    },
    {
      question: "A coil of 100 turns carries 2 A in a magnetic field of 0.5 T. The force per turn is:",
      options: ["1 N", "0.1 N", "10 N", "0.01 N"],
      answer: "0.1 N"
    },
    {
      question: "A conductor of length 0.5 m carrying 3 A is placed in a 0.4 T field. The force is:",
      options: ["0.6 N", "1.2 N", "0.3 N", "2.4 N"],
      answer: "0.6 N"
    },
    {
      question: "The frequency of AC changes from 50 Hz to 100 Hz. The induced EMF in a coil:",
      options: ["Doubles", "Halves", "Remains same", "Triples"],
      answer: "Doubles"
    },
    {
      question: "A solenoid has 200 turns and carries 1 A. If turns double, magnetic field:",
      options: ["Doubles", "Halves", "Remains same", "Quadruples"],
      answer: "Doubles"
    },
    {
      question: "A wire of length 1 m carrying 5 A is at 90° to a 0.2 T field. The force is:",
      options: ["1 N", "0.5 N", "2 N", "0.1 N"],
      answer: "1 N"
    },
    {
      question: "In a DC motor, the role of the commutator is to:",
      options: ["Increase current", "Reverse current direction", "Reduce voltage", "Increase magnetic field"],
      answer: "Reverse current direction"
    },
    {
      question: "The magnetic field at the center of a circular coil carrying current is proportional to:",
      options: ["Radius", "1/Radius", "Current²", "1/Current"],
      answer: "1/Radius"
    },
    {
      question: "A coil rotates in a magnetic field. The maximum induced EMF depends on:",
      options: ["Speed of rotation", "Number of turns", "Magnetic field strength", "All of these"],
      answer: "All of these"
    },
    {
      question: "A current of 4 A flows in a solenoid with 100 turns. If current doubles, magnetic field:",
      options: ["Doubles", "Halves", "Quadruples", "Remains same"],
      answer: "Doubles"
    },
    {
      question: "The force on a current-carrying conductor is zero when it is:",
      options: ["Perpendicular to field", "Parallel to field", "At 45° to field", "At 60° to field"],
      answer: "Parallel to field"
    },
    {
      question: "A generator produces 220 V AC at 50 Hz. The time period is:",
      options: ["0.02 s", "0.04 s", "0.01 s", "0.05 s"],
      answer: "0.02 s"
    },
    {
      question: "A motor draws 5 A in a 0.3 T field with a 0.2 m conductor. The force is:",
      options: ["0.3 N", "0.6 N", "1.5 N", "0.15 N"],
      answer: "0.3 N"
    },
    {
      question: "The magnetic field at the center of a circular coil of radius 0.1 m carrying 2 A is:",
      options: ["4π × 10^-5 T", "2π × 10^-5 T", "π × 10^-5 T", "8π × 10^-5 T"],
      answer: "4π × 10^-5 T"
    },
    {
      question: "A solenoid with 500 turns has a magnetic field of 0.01 T. If turns double, field is:",
      options: ["0.02 T", "0.01 T", "0.005 T", "0.04 T"],
      answer: "0.02 T"
    },
    {
      question: "In a transformer, the core is made of soft iron to:",
      options: ["Reduce resistance", "Increase magnetic flux", "Increase current", "Reduce voltage"],
      answer: "Increase magnetic flux"
    },
    {
      question: "A coil rotates at 60 rpm in a 0.5 T field with 100 turns. The maximum EMF is proportional to:",
      options: ["60", "100", "0.5", "All of these"],
      answer: "All of these"
    },
    {
      question: "A conductor of length 0.4 m carrying 2 A in a 0.5 T field experiences force:",
      options: ["0.4 N", "0.2 N", "0.8 N", "1 N"],
      answer: "0.4 N"
    },
    {
      question: "The magnetic field inside a solenoid is 0.02 T with 1000 turns. If current halves, field is:",
      options: ["0.01 T", "0.02 T", "0.04 T", "0.005 T"],
      answer: "0.01 T"
    }
  ],
  level3: [
    {
      question: "A straight conductor of length 0.3 m carrying 4 A in a 0.6 T field at 60° experiences force:",
      options: ["0.72 N", "0.36 N", "0.62 N", "0.48 N"],
      answer: "0.62 N"
    },
    {
      question: "A circular coil of radius 0.05 m with 50 turns carries 3 A. The magnetic field at the center is:",
      options: ["3.77 × 10^-3 T", "1.88 × 10^-3 T", "7.54 × 10^-3 T", "0.94 × 10^-3 T"],
      answer: "3.77 × 10^-3 T"
    },
    {
      question: "A solenoid with 200 turns per meter carries 2 A. The magnetic field inside is:",
      options: ["5.03 × 10^-3 T", "2.51 × 10^-3 T", "1.26 × 10^-3 T", "10.06 × 10^-3 T"],
      answer: "5.03 × 10^-3 T"
    },
    {
      question: "A coil of 200 turns rotates at 120 rpm in a 0.4 T field. The maximum EMF if area is 0.02 m² is:",
      options: ["20.1 V", "10.05 V", "40.2 V", "5.02 V"],
      answer: "20.1 V"
    },
    {
      question: "A conductor of length 0.5 m carrying 3 A at 30° to a 0.8 T field experiences force:",
      options: ["0.6 N", "0.3 N", "1.2 N", "0.9 N"],
      answer: "0.6 N"
    },
    {
      question: "A solenoid has 1000 turns per meter and a field of 0.01 T. The current is:",
      options: ["3.98 A", "1.99 A", "7.96 A", "0.99 A"],
      answer: "1.99 A"
    },
    {
      question: "A transformer has 100 primary turns and 200 secondary turns. If primary voltage is 220 V, secondary voltage is:",
      options: ["440 V", "110 V", "220 V", "880 V"],
      answer: "440 V"
    },
    {
      question: "A coil of 50 turns rotates at 1800 rpm in a 0.1 T field. If area is 0.01 m², max EMF is:",
      options: ["9.42 V", "4.71 V", "18.84 V", "2.36 V"],
      answer: "9.42 V"
    },
    {
      question: "A conductor of length 0.2 m carrying 5 A in a 0.5 T field at 90° experiences force:",
      options: ["0.5 N", "1 N", "0.25 N", "2 N"],
      answer: "0.5 N"
    },
    {
      question: "A solenoid with 400 turns per meter carries 1.5 A. The magnetic field is:",
      options: ["7.54 × 10^-3 T", "3.77 × 10^-3 T", "1.88 × 10^-3 T", "15.08 × 10^-3 T"],
      answer: "7.54 × 10^-3 T"
    },
    {
      question: "A transformer has 200 primary turns and 50 secondary turns. If primary voltage is 400 V, secondary voltage is:",
      options: ["100 V", "200 V", "400 V", "800 V"],
      answer: "100 V"
    },
    {
      question: "A coil of 100 turns with area 0.03 m² rotates at 60 Hz in a 0.2 T field. Max EMF is:",
      options: ["113.1 V", "56.55 V", "226.2 V", "28.28 V"],
      answer: "113.1 V"
    },
    {
      question: "A conductor of length 0.4 m carrying 2 A in a 0.3 T field at 45° experiences force:",
      options: ["0.17 N", "0.24 N", "0.34 N", "0.12 N"],
      answer: "0.17 N"
    },
    {
      question: "A solenoid produces a field of 0.02 T with 500 turns per meter. The current is:",
      options: ["3.18 A", "1.59 A", "6.36 A", "0.80 A"],
      answer: "3.18 A"
    },
    {
      question: "A transformer has a primary voltage of 220 V and secondary voltage of 110 V. The turn ratio (N_p/N_s) is:",
      options: ["2:1", "1:2", "1:1", "4:1"],
      answer: "2:1"
    },
    {
      question: "A coil of 150 turns rotates at 50 Hz in a 0.3 T field with area 0.02 m². Max EMF is:",
      options: ["141.4 V", "70.7 V", "282.8 V", "35.35 V"],
      answer: "141.4 V"
    },
    {
      question: "A conductor of length 0.6 m carrying 4 A in a 0.5 T field at 90° experiences force:",
      options: ["1.2 N", "0.6 N", "2.4 N", "0.3 N"],
      answer: "1.2 N"
    },
    {
      question: "A solenoid with 2000 turns per meter has a field of 0.005 T. The current is:",
      options: ["0.40 A", "0.80 A", "1.99 A", "3.98 A"],
      answer: "0.40 A"
    },
    {
      question: "A transformer steps up 220 V to 1100 V. If primary turns are 100, secondary turns are:",
      options: ["500", "200", "1000", "50"],
      answer: "500"
    },
    {
      question: "A coil of 80 turns rotates at 120 Hz in a 0.1 T field with area 0.015 m². Max EMF is:",
      options: ["90.48 V", "45.24 V", "180.96 V", "22.62 V"],
      answer: "90.48 V"
    }
  ]
};

// Render quiz
function renderQuiz(level) {
  const quizContainer = document.getElementById("quizContainer");
  quizContainer.innerHTML = ""; // Clear previous questions
  quizData[level].forEach((item, index) => {
    const card = document.createElement("div");
    card.className = "card animate__animated animate__fadeInUp";
    card.innerHTML = `
      <div class="card__content">
        <h5>Q${index + 1}: ${item.question}</h5>
        ${item.options.map(option => `
          <label>
            <input type="radio" name="q${index}" value="${option}"> ${option}
          </label>
        `).join("")}
      </div>
    `;
    quizContainer.appendChild(card);
  });
}

// Check answers
function checkAnswers(level) {
  let score = 0;
  quizData[level].forEach((item, index) => {
    const selected = document.querySelector(`input[name="q${index}"]:checked`);
    if (selected) {
      const userAnswer = selected.value;
      if (userAnswer === item.answer) {
        score++;
        selected.parentElement.style.color = "var(--correct-color)";
      } else {
        selected.parentElement.style.color = "var(--wrong-color)";
      }
    }
  });
  const resultDiv = document.getElementById("result");
  resultDiv.innerHTML = `Your Score: ${score}/${quizData[level].length} 🎉<br>${score === quizData[level].length ? "Full marks, bro! 😎" : "Keep grinding! 🚀"}`;
  resultDiv.className = "result animate__animated animate__bounceIn";
}

// Level selection
document.addEventListener("DOMContentLoaded", () => {
  renderQuiz("level1"); // Default to Level 1
  document.getElementById("levelSelect").addEventListener("change", function () {
    const selectedLevel = this.value;
    renderQuiz(selectedLevel);
    document.getElementById("submitQuiz").onclick = () => checkAnswers(selectedLevel);
  });

  document.getElementById("submitQuiz").onclick = () => checkAnswers("level1");

  // Toggle sidebar
  document.querySelector('.navbar-toggler').addEventListener('click', function () {
    const sidebar = document.querySelector('.sidebar');
    const main = document.querySelector('main');
    sidebar.classList.toggle('active');
    main.classList.toggle('shifted');
  });

  // Responsive adjustment
  window.addEventListener('resize', function () {
    const sidebar = document.querySelector('.sidebar');
    const main = document.querySelector('main');
    if (window.innerWidth >= 1024) {
      sidebar.classList.remove('active');
      main.classList.remove('shifted');
      main.style.marginLeft = '250px';
    } else if (window.innerWidth >= 768) {
      main.style.marginLeft = sidebar.classList.contains('active') ? '0' : '200px';
    } else {
      main.style.marginLeft = '0';
    }
  });

  // Initial load adjustment
  window.addEventListener('load', function () {
    const sidebar = document.querySelector('.sidebar');
    const main = document.querySelector('main');
    if (window.innerWidth >= 1024) {
      main.style.marginLeft = '250px';
    } else if (window.innerWidth >= 768) {
      main.style.marginLeft = '200px';
    } else {
      main.style.marginLeft = '0';
    }
  });
});
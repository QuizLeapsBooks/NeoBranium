// Quiz data for Diversity in Living Organisms (Class 9 Biology) with 3 levels
const quizData = {
  level1: [
    {
      question: "What is the branch of biology that deals with the classification of organisms?",
      options: ["Taxonomy", "Genetics", "Ecology", "Physiology"],
      answer: "Taxonomy"
    },
    {
      question: "Who proposed the five-kingdom classification?",
      options: ["R.H. Whittaker", "Carolus Linnaeus", "Charles Darwin", "Gregor Mendel"],
      answer: "R.H. Whittaker"
    },
    {
      question: "Which kingdom includes bacteria?",
      options: ["Monera", "Protista", "Fungi", "Plantae"],
      answer: "Monera"
    },
    {
      question: "Which organisms are autotrophic and have chlorophyll?",
      options: ["Plants", "Animals", "Fungi", "Bacteria"],
      answer: "Plants"
    },
    {
      question: "Which kingdom includes organisms with no well-defined nucleus?",
      options: ["Monera", "Protista", "Fungi", "Animalia"],
      answer: "Monera"
    },
    {
      question: "What is the basic unit of classification?",
      options: ["Species", "Genus", "Family", "Order"],
      answer: "Species"
    },
    {
      question: "Which kingdom includes single-celled eukaryotic organisms?",
      options: ["Protista", "Monera", "Fungi", "Plantae"],
      answer: "Protista"
    },
    {
      question: "Which organisms are heterotrophic and have cell walls?",
      options: ["Fungi", "Plants", "Animals", "Protists"],
      answer: "Fungi"
    },
    {
      question: "The scientific name of an organism is based on:",
      options: ["Binomial Nomenclature", "Common Name", "Local Name", "Family Name"],
      answer: "Binomial Nomenclature"
    },
    {
      question: "Which kingdom includes multicellular animals?",
      options: ["Animalia", "Plantae", "Fungi", "Protista"],
      answer: "Animalia"
    },
    {
      question: "Who is known as the father of taxonomy?",
      options: ["Carolus Linnaeus", "R.H. Whittaker", "Charles Darwin", "Robert Hooke"],
      answer: "Carolus Linnaeus"
    },
    {
      question: "Which group of organisms lacks a cell wall?",
      options: ["Animals", "Plants", "Fungi", "Protists"],
      answer: "Animals"
    },
    {
      question: "The kingdom Monera includes organisms that are:",
      options: ["Prokaryotic", "Eukaryotic", "Multicellular", "Autotrophic only"],
      answer: "Prokaryotic"
    },
    {
      question: "Which kingdom includes algae, protozoa, and slime molds?",
      options: ["Protista", "Monera", "Fungi", "Plantae"],
      answer: "Protista"
    },
    {
      question: "The highest category in the classification is:",
      options: ["Kingdom", "Phylum", "Class", "Genus"],
      answer: "Kingdom"
    },
    {
      question: "Which organisms reproduce through spores?",
      options: ["Fungi", "Plants", "Animals", "Protists"],
      answer: "Fungi"
    },
    {
      question: "Which kingdom includes organisms that can photosynthesize?",
      options: ["Plantae", "Animalia", "Fungi", "Monera"],
      answer: "Plantae"
    },
    {
      question: "The process of grouping organisms based on similarities is called:",
      options: ["Classification", "Evolution", "Adaptation", "Mutation"],
      answer: "Classification"
    },
    {
      question: "Which group of animals has a backbone?",
      options: ["Vertebrates", "Invertebrates", "Protists", "Monera"],
      answer: "Vertebrates"
    },
    {
      question: "Which kingdom includes organisms without chlorophyll?",
      options: ["Fungi", "Plantae", "Protista", "Animalia"],
      answer: "Fungi"
    }
  ],
  level2: [
    {
      question: "Which of the following is a characteristic of kingdom Monera?",
      options: ["Lack of nucleus", "Presence of cell wall", "Both A and B", "Multicellular"],
      answer: "Both A and B"
    },
    {
      question: "Which phylum includes animals with a notochord?",
      options: ["Chordata", "Arthropoda", "Annelida", "Mollusca"],
      answer: "Chordata"
    },
    {
      question: "Which class of vertebrates lays eggs with shells?",
      options: ["Reptilia", "Aves", "Mammalia", "Amphibia"],
      answer: "Reptilia"
    },
    {
      question: "Which kingdom includes organisms that can be autotrophic or heterotrophic?",
      options: ["Protista", "Monera", "Fungi", "Plantae"],
      answer: "Protista"
    },
    {
      question: "The binomial name of human is:",
      options: ["Homo sapiens", "Pan troglodytes", "Felis domestica", "Canis lupus"],
      answer: "Homo sapiens"
    },
    {
      question: "Which phylum includes animals with jointed legs?",
      options: ["Arthropoda", "Chordata", "Mollusca", "Porifera"],
      answer: "Arthropoda"
    },
    {
      question: "Which group of organisms has radial symmetry?",
      options: ["Coelenterates", "Annelids", "Arthropods", "Chordates"],
      answer: "Coelenterates"
    },
    {
      question: "The five-kingdom classification was proposed in which year?",
      options: ["1969", "1859", "1809", "1900"],
      answer: "1969"
    },
    {
      question: "Which phylum includes organisms with a soft body and a shell?",
      options: ["Mollusca", "Arthropoda", "Annelida", "Porifera"],
      answer: "Mollusca"
    },
    {
      question: "Which class of vertebrates is warm-blooded?",
      options: ["Aves", "Reptilia", "Amphibia", "Pisces"],
      answer: "Aves"
    },
    {
      question: "Which kingdom includes organisms that decompose dead matter?",
      options: ["Fungi", "Plantae", "Animalia", "Protista"],
      answer: "Fungi"
    },
    {
      question: "Which phylum includes segmented worms?",
      options: ["Annelida", "Arthropoda", "Mollusca", "Chordata"],
      answer: "Annelida"
    },
    {
      question: "Which group of animals has a water vascular system?",
      options: ["Echinodermata", "Arthropoda", "Chordata", "Mollusca"],
      answer: "Echinodermata"
    },
    {
      question: "The first level of classification after kingdom is:",
      options: ["Phylum", "Class", "Order", "Family"],
      answer: "Phylum"
    },
    {
      question: "Which organism is an example of kingdom Protista?",
      options: ["Amoeba", "Mushroom", "Fern", "Dog"],
      answer: "Amoeba"
    },
    {
      question: "Which phylum includes sponges?",
      options: ["Porifera", "Cnidaria", "Platyhelminthes", "Nematoda"],
      answer: "Porifera"
    },
    {
      question: "Which class of vertebrates includes animals that lay eggs in water?",
      options: ["Amphibia", "Reptilia", "Aves", "Mammalia"],
      answer: "Amphibia"
    },
    {
      question: "Which kingdom includes organisms with a true nucleus?",
      options: ["Protista", "Monera", "Fungi", "All of these"],
      answer: "Protista"
    },
    {
      question: "Which phylum includes flatworms?",
      options: ["Platyhelminthes", "Nematoda", "Annelida", "Arthropoda"],
      answer: "Platyhelminthes"
    },
    {
      question: "Which group of animals has an exoskeleton?",
      options: ["Arthropoda", "Chordata", "Mollusca", "Annelida"],
      answer: "Arthropoda"
    }
  ],
  level3: [
    {
      question: "Which of the following is a characteristic of kingdom Plantae?",
      options: ["Autotrophic nutrition", "Heterotrophic nutrition", "Lack of cell wall", "Prokaryotic cells"],
      answer: "Autotrophic nutrition"
    },
    {
      question: "Which phylum includes animals with a coelom and bilateral symmetry?",
      options: ["Annelida", "Porifera", "Cnidaria", "Platyhelminthes"],
      answer: "Annelida"
    },
    {
      question: "Which class of vertebrates has mammary glands?",
      options: ["Mammalia", "Aves", "Reptilia", "Amphibia"],
      answer: "Mammalia"
    },
    {
      question: "Which kingdom includes organisms that can perform photosynthesis and ingest food?",
      options: ["Protista", "Monera", "Fungi", "Plantae"],
      answer: "Protista"
    },
    {
      question: "The scientific name of tiger is:",
      options: ["Panthera tigris", "Felis domestica", "Canis lupus", "Homo sapiens"],
      answer: "Panthera tigris"
    },
    {
      question: "Which phylum includes animals with a mantle and foot?",
      options: ["Mollusca", "Arthropoda", "Chordata", "Echinodermata"],
      answer: "Mollusca"
    },
    {
      question: "Which group of organisms has a medusa and polyp stage?",
      options: ["Cnidaria", "Porifera", "Platyhelminthes", "Nematoda"],
      answer: "Cnidaria"
    },
    {
      question: "Which kingdom includes organisms with chitin in their cell walls?",
      options: ["Fungi", "Plantae", "Animalia", "Protista"],
      answer: "Fungi"
    },
    {
      question: "Which phylum includes roundworms?",
      options: ["Nematoda", "Platyhelminthes", "Annelida", "Arthropoda"],
      answer: "Nematoda"
    },
    {
      question: "Which class of vertebrates has gills and fins?",
      options: ["Pisces", "Amphibia", "Reptilia", "Aves"],
      answer: "Pisces"
    },
    {
      question: "Which kingdom includes organisms that can be parasitic or saprophytic?",
      options: ["Fungi", "Plantae", "Animalia", "Protista"],
      answer: "Fungi"
    },
    {
      question: "Which phylum includes animals with spiny skin?",
      options: ["Echinodermata", "Arthropoda", "Chordata", "Mollusca"],
      answer: "Echinodermata"
    },
    {
      question: "Which group of animals has a closed circulatory system?",
      options: ["Annelida", "Arthropoda", "Cnidaria", "Porifera"],
      answer: "Annelida"
    },
    {
      question: "The taxonomic category below order is:",
      options: ["Family", "Class", "Phylum", "Genus"],
      answer: "Family"
    },
    {
      question: "Which organism is an example of kingdom Fungi?",
      options: ["Mushroom", "Amoeba", "Fern", "Dog"],
      answer: "Mushroom"
    },
    {
      question: "Which phylum includes animals with a porous body?",
      options: ["Porifera", "Cnidaria", "Platyhelminthes", "Nematoda"],
      answer: "Porifera"
    },
    {
      question: "Which class of vertebrates undergoes metamorphosis?",
      options: ["Amphibia", "Reptilia", "Aves", "Mammalia"],
      answer: "Amphibia"
    },
    {
      question: "Which kingdom includes organisms with complex cell structures?",
      options: ["Protista", "Monera", "Fungi", "All of these"],
      answer: "Protista"
    },
    {
      question: "Which phylum includes organisms with a pseudocoelom?",
      options: ["Nematoda", "Platyhelminthes", "Annelida", "Arthropoda"],
      answer: "Nematoda"
    },
    {
      question: "Which group of animals has an open circulatory system?",
      options: ["Arthropoda", "Chordata", "Mollusca", "Annelida"],
      answer: "Arthropoda"
    }
  ]
};

// Render quiz
function renderQuiz(level) {
  const quizContainer = document.getElementById("quizContainer");
  quizContainer.innerHTML = ""; // Clear previous questions
  quizData[level].forEach((item, index) => {
    const card = document.createElement("div");
    card.className = "card animate__animated animate__fadeInUp";
    card.innerHTML = `
      <div class="card__content">
        <h5>Q${index + 1}: ${item.question}</h5>
        ${item.options.map(option => `
          <label>
            <input type="radio" name="q${index}" value="${option}"> ${option}
          </label>
        `).join("")}
      </div>
    `;
    quizContainer.appendChild(card);
  });
}

// Check answers
function checkAnswers(level) {
  let score = 0;
  quizData[level].forEach((item, index) => {
    const selected = document.querySelector(`input[name="q${index}"]:checked`);
    if (selected) {
      const userAnswer = selected.value;
      if (userAnswer === item.answer) {
        score++;
        selected.parentElement.style.color = "var(--correct-color)";
      } else {
        selected.parentElement.style.color = "var(--wrong-color)";
      }
    }
  });
  const resultDiv = document.getElementById("result");
  resultDiv.innerHTML = `Your Score: ${score}/${quizData[level].length} 🎉<br>${score === quizData[level].length ? "Full marks, bro! 😎" : "Keep grinding! 🚀"}`;
  resultDiv.className = "result animate__animated animate__bounceIn";
}

// Level selection
document.addEventListener("DOMContentLoaded", () => {
  renderQuiz("level1"); // Default to Level 1
  document.getElementById("levelSelect").addEventListener("change", function () {
    const selectedLevel = this.value;
    renderQuiz(selectedLevel);
    document.getElementById("submitQuiz").onclick = () => checkAnswers(selectedLevel);
  });

  document.getElementById("submitQuiz").onclick = () => checkAnswers("level1");

  // Toggle sidebar
  document.querySelector('.navbar-toggler').addEventListener('click', function () {
    const sidebar = document.queryselector('.sidebar');
    const main = document.querySelector('main');
    sidebar.classList.toggle('active');
    main.classList.toggle('shifted');
  });

  // Responsive adjustment
  window.addEventListener('resize', function () {
    const sidebar = document.queryselector('.sidebar');
    const main = document.querySelector('main');
    if (window.innerWidth >= 1024) {
      sidebar.classList.remove('active');
      main.classList.remove('shifted');
      main.style.marginLeft = '250px';
    } else if (window.innerWidth >= 768) {
      main.style.marginLeft = sidebar.classList.contains('active') ? '0' : '200px';
    } else {
      main.style.marginLeft = '0';
    }
  });

  // Initial load adjustment
  window.addEventListener('load', function () {
    const sidebar = document.querySelector('.sidebar');
    const main = document.querySelector('main');
    if (window.innerWidth >= 1024) {
      main.style.marginLeft = '250px';
    } else if (window.innerWidth >= 768) {
      main.style.marginLeft = '200px';
    } else {
      main.style.marginLeft = '0';
    }
  });
});
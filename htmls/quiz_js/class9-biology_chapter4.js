// Quiz data for Why Do We Fall Ill (Class 9 Biology) with 3 levels
const quizData = {
  level1: [
    {
      question: "What is the state of complete physical, mental, and social well-being called?",
      options: ["Health", "Disease", "Infection", "Immunity"],
      answer: "Health"
    },
    {
      question: "Which of these is a communicable disease?",
      options: ["Malaria", "Diabetes", "Cancer", "Hypertension"],
      answer: "Malaria"
    },
    {
      question: "What causes diseases like cold and flu?",
      options: ["Viruses", "Bacteria", "Fungi", "Protozoa"],
      answer: "Viruses"
    },
    {
      question: "Which organ system is affected by tuberculosis?",
      options: ["Respiratory System", "Digestive System", "Circulatory System", "Nervous System"],
      answer: "Respiratory System"
    },
    {
      question: "What is the primary mode of transmission of AIDS?",
      options: ["Blood and sexual contact", "Air", "Water", "Food"],
      answer: "Blood and sexual contact"
    },
    {
      question: "Which of these is a non-communicable disease?",
      options: ["Asthma", "Cholera", "Typhoid", "Malaria"],
      answer: "Asthma"
    },
    {
      question: "What is the agent of malaria?",
      options: ["Plasmodium", "Salmonella", "Vibrio cholerae", "HIV"],
      answer: "Plasmodium"
    },
    {
      question: "Which vitamin deficiency causes scurvy?",
      options: ["Vitamin C", "Vitamin A", "Vitamin D", "Vitamin B12"],
      answer: "Vitamin C"
    },
    {
      question: "What is the body's natural defense against diseases called?",
      options: ["Immunity", "Infection", "Allergy", "Toxicity"],
      answer: "Immunity"
    },
    {
      question: "Which disease is caused by a deficiency of iodine?",
      options: ["Goitre", "Rickets", "Scurvy", "Anaemia"],
      answer: "Goitre"
    },
    {
      question: "What spreads through contaminated water?",
      options: ["Cholera", "Tuberculosis", "Measles", "Chickenpox"],
      answer: "Cholera"
    },
    {
      question: "Which of these is a bacterial disease?",
      options: ["Typhoid", "Common Cold", "Hepatitis", "Dengue"],
      answer: "Typhoid"
    },
    {
      question: "What is the main cause of infectious diseases?",
      options: ["Pathogens", "Genetics", "Lifestyle", "Injury"],
      answer: "Pathogens"
    },
    {
      question: "Which disease affects the liver?",
      options: ["Hepatitis", "Pneumonia", "Dengue", "Malaria"],
      answer: "Hepatitis"
    },
    {
      question: "What is a symptom of a disease?",
      options: ["Fever", "Health", "Strength", "Growth"],
      answer: "Fever"
    },
    {
      question: "Which disease is spread by mosquitoes?",
      options: ["Dengue", "Tuberculosis", "Diabetes", "Arthritis"],
      answer: "Dengue"
    },
    {
      question: "What is the role of vaccination?",
      options: ["Prevents diseases", "Cures diseases", "Spreads diseases", "Diagnoses diseases"],
      answer: "Prevents diseases"
    },
    {
      question: "Which nutrient deficiency causes rickets?",
      options: ["Vitamin D", "Vitamin C", "Iron", "Calcium"],
      answer: "Vitamin D"
    },
    {
      question: "What is a chronic disease?",
      options: ["Diabetes", "Cold", "Flu", "Chickenpox"],
      answer: "Diabetes"
    },
    {
      question: "Which disease is caused by a virus?",
      options: ["Measles", "Typhoid", "Tetanus", "Tuberculosis"],
      answer: "Measles"
    }
  ],
  level2: [
    {
      question: "Which organ is affected by jaundice?",
      options: ["Liver", "Lungs", "Heart", "Kidneys"],
      answer: "Liver"
    },
    {
      question: "What is the vector for malaria?",
      options: ["Female Anopheles mosquito", "Housefly", "Cockroach", "Rat"],
      answer: "Female Anopheles mosquito"
    },
    {
      question: "Which disease is caused by a protozoan?",
      options: ["Kala-azar", "Tuberculosis", "Pneumonia", "Tetanus"],
      answer: "Kala-azar"
    },
    {
      question: "What is the incubation period of a disease?",
      options: ["Time between exposure and symptoms", "Time to cure", "Time to vaccinate", "Time to infect"],
      answer: "Time between exposure and symptoms"
    },
    {
      question: "Which vitamin deficiency causes night blindness?",
      options: ["Vitamin A", "Vitamin B", "Vitamin C", "Vitamin D"],
      answer: "Vitamin A"
    },
    {
      question: "What is the mode of transmission of tuberculosis?",
      options: ["Airborne droplets", "Water", "Food", "Contact"],
      answer: "Airborne droplets"
    },
    {
      question: "Which disease is caused by a deficiency of iron?",
      options: ["Anaemia", "Goitre", "Rickets", "Scurvy"],
      answer: "Anaemia"
    },
    {
      question: "What is an acute disease?",
      options: ["Common Cold", "Diabetes", "Cancer", "Hypertension"],
      answer: "Common Cold"
    },
    {
      question: "Which organ system is affected by AIDS?",
      options: ["Immune System", "Digestive System", "Respiratory System", "Nervous System"],
      answer: "Immune System"
    },
    {
      question: "What is the causative agent of cholera?",
      options: ["Vibrio cholerae", "Plasmodium", "HIV", "Mycobacterium"],
      answer: "Vibrio cholerae"
    },
    {
      question: "Which disease is prevented by the BCG vaccine?",
      options: ["Tuberculosis", "Polio", "Measles", "Diphtheria"],
      answer: "Tuberculosis"
    },
    {
      question: "What is a sign of a disease?",
      options: ["Rash", "Happiness", "Energy", "Strength"],
      answer: "Rash"
    },
    {
      question: "Which disease is caused by a fungus?",
      options: ["Ringworm", "Malaria", "Typhoid", "Hepatitis"],
      answer: "Ringworm"
    },
    {
      question: "What is the role of antibiotics?",
      options: ["Kill or inhibit bacteria", "Kill viruses", "Boost immunity", "Cure cancer"],
      answer: "Kill or inhibit bacteria"
    },
    {
      question: "Which factor does not cause disease?",
      options: ["Healthy diet", "Poor hygiene", "Malnutrition", "Infection"],
      answer: "Healthy diet"
    },
    {
      question: "What is the mode of transmission of hepatitis B?",
      options: ["Blood transfusion", "Air", "Water", "Food"],
      answer: "Blood transfusion"
    },
    {
      question: "Which disease affects the skin and is contagious?",
      options: ["Leprosy", "Diabetes", "Asthma", "Goitre"],
      answer: "Leprosy"
    },
    {
      question: "What is the primary source of infectious diseases?",
      options: ["Pathogens", "Exercise", "Sleep", "Water"],
      answer: "Pathogens"
    },
    {
      question: "Which vitamin deficiency causes beriberi?",
      options: ["Vitamin B1", "Vitamin C", "Vitamin D", "Vitamin A"],
      answer: "Vitamin B1"
    },
    {
      question: "What is the effect of a weak immune system?",
      options: ["Increased susceptibility to diseases", "Improved health", "Faster recovery", "Stronger bones"],
      answer: "Increased susceptibility to diseases"
    }
  ],
  level3: [
    {
      question: "Which organ is primarily affected by pneumonia?",
      options: ["Lungs", "Liver", "Kidneys", "Heart"],
      answer: "Lungs"
    },
    {
      question: "What is the vector for dengue?",
      options: ["Aedes mosquito", "Anopheles mosquito", "Housefly", "Sandfly"],
      answer: "Aedes mosquito"
    },
    {
      question: "Which disease is caused by a deficiency of protein?",
      options: ["Kwashiorkor", "Scurvy", "Rickets", "Goitre"],
      answer: "Kwashiorkor"
    },
    {
      question: "What is the incubation period of rabies?",
      options: ["1-3 months", "1-3 days", "1-3 weeks", "1-3 years"],
      answer: "1-3 months"
    },
    {
      question: "Which mineral deficiency causes osteoporosis?",
      options: ["Calcium", "Iron", "Iodine", "Zinc"],
      answer: "Calcium"
    },
    {
      question: "What is the mode of transmission of tetanus?",
      options: ["Wound contamination", "Air", "Water", "Food"],
      answer: "Wound contamination"
    },
    {
      question: "Which disease is caused by a deficiency of vitamin K?",
      options: ["Bleeding disorders", "Night blindness", "Scurvy", "Rickets"],
      answer: "Bleeding disorders"
    },
    {
      question: "What is the causative agent of tetanus?",
      options: ["Clostridium tetani", "Plasmodium", "HIV", "Vibrio cholerae"],
      answer: "Clostridium tetani"
    },
    {
      question: "Which disease is prevented by the DPT vaccine?",
      options: ["Diphtheria, Pertussis, Tetanus", "Polio", "Measles", "Hepatitis"],
      answer: "Diphtheria, Pertussis, Tetanus"
    },
    {
      question: "What is the effect of poor sanitation on health?",
      options: ["Increases disease risk", "Improves immunity", "Enhances growth", "Reduces stress"],
      answer: "Increases disease risk"
    },
    {
      question: "Which organ system is affected by elephantiasis?",
      options: ["Lymphatic System", "Respiratory System", "Digestive System", "Nervous System"],
      answer: "Lymphatic System"
    },
    {
      question: "What is the vector for filariasis?",
      options: ["Culex mosquito", "Anopheles mosquito", "Aedes mosquito", "Housefly"],
      answer: "Culex mosquito"
    },
    {
      question: "Which disease is caused by a deficiency of vitamin B12?",
      options: ["Pernicious anaemia", "Scurvy", "Rickets", "Goitre"],
      answer: "Pernicious anaemia"
    },
    {
      question: "What is the mode of transmission of leprosy?",
      options: ["Prolonged contact", "Air", "Water", "Food"],
      answer: "Prolonged contact"
    },
    {
      question: "Which disease is caused by a deficiency of insulin?",
      options: ["Diabetes", "Hepatitis", "Tuberculosis", "Malaria"],
      answer: "Diabetes"
    },
    {
      question: "What is the role of the immune system in disease prevention?",
      options: ["Fights pathogens", "Causes diseases", "Stores nutrients", "Transports oxygen"],
      answer: "Fights pathogens"
    },
    {
      question: "Which disease is associated with the deficiency of vitamin E?",
      options: ["Neurological problems", "Scurvy", "Rickets", "Anaemia"],
      answer: "Neurological problems"
    },
    {
      question: "What is the causative agent of whooping cough?",
      options: ["Bordetella pertussis", "Plasmodium", "HIV", "Mycobacterium"],
      answer: "Bordetella pertussis"
    },
    {
      question: "Which factor contributes to the spread of infectious diseases?",
      options: ["Poor personal hygiene", "Healthy diet", "Regular exercise", "Clean water"],
      answer: "Poor personal hygiene"
    },
    {
      question: "What is the effect of a balanced diet on health?",
      options: ["Prevents deficiencies", "Causes diseases", "Weakens immunity", "Increases stress"],
      answer: "Prevents deficiencies"
    }
  ]
};

// Render quiz
function renderQuiz(level) {
  const quizContainer = document.getElementById("quizContainer");
  quizContainer.innerHTML = ""; // Clear previous questions
  quizData[level].forEach((item, index) => {
    const card = document.createElement("div");
    card.className = "card animate__animated animate__fadeInUp";
    card.innerHTML = `
      <div class="card__content">
        <h5>Q${index + 1}: ${item.question}</h5>
        ${item.options.map(option => `
          <label>
            <input type="radio" name="q${index}" value="${option}"> ${option}
          </label>
        `).join("")}
      </div>
    `;
    quizContainer.appendChild(card);
  });
}

// Check answers
function checkAnswers(level) {
  let score = 0;
  quizData[level].forEach((item, index) => {
    const selected = document.querySelector(`input[name="q${index}"]:checked`);
    if (selected) {
      const userAnswer = selected.value;
      if (userAnswer === item.answer) {
        score++;
        selected.parentElement.style.color = "var(--correct-color)";
      } else {
        selected.parentElement.style.color = "var(--wrong-color)";
      }
    }
  });
  const resultDiv = document.getElementById("result");
  resultDiv.innerHTML = `Your Score: ${score}/${quizData[level].length} ðŸŽ‰<br>${score === quizData[level].length ? "Full marks, bro! ðŸ˜Ž" : "Keep grinding! ðŸš€"}`;
  resultDiv.className = "result animate__animated animate__bounceIn";
}

// Level selection
document.addEventListener("DOMContentLoaded", () => {
  renderQuiz("level1"); // Default to Level 1
  document.getElementById("levelSelect").addEventListener("change", function () {
    const selectedLevel = this.value;
    renderQuiz(selectedLevel);
    document.getElementById("submitQuiz").onclick = () => checkAnswers(selectedLevel);
  });

  document.getElementById("submitQuiz").onclick = () => checkAnswers("level1");

  // Toggle sidebar
  document.querySelector('.navbar-toggler').addEventListener('click', function () {
    const sidebar = document.queryselector('.sidebar');
    const main = document.querySelector('main');
    sidebar.classList.toggle('active');
    main.classList.toggle('shifted');
  });

  // Responsive adjustment
  window.addEventListener('resize', function () {
    const sidebar = document.queryselector('.sidebar');
    const main = document.querySelector('main');
    if (window.innerWidth >= 1024) {
      sidebar.classList.remove('active');
      main.classList.remove('shifted');
      main.style.marginLeft = '250px';
    } else if (window.innerWidth >= 768) {
      main.style.marginLeft = sidebar.classList.contains('active') ? '0' : '200px';
    } else {
      main.style.marginLeft = '0';
    }
  });

  // Initial load adjustment
  window.addEventListener('load', function () {
    const sidebar = document.querySelector('.sidebar');
    const main = document.querySelector('main');
    if (window.innerWidth >= 1024) {
      main.style.marginLeft = '250px';
    } else if (window.innerWidth >= 768) {
      main.style.marginLeft = '200px';
    } else {
      main.style.marginLeft = '0';
    }
  });
});
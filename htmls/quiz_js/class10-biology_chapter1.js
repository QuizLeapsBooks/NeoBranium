const quizData = {
  level1: [
    {
      question: "Which of these is a characteristic of living organisms?",
      options: ["Growth", "Reproduction", "Metabolism", "All of these"],
      answer: "All of these"
    },
    {
      question: "The process by which organisms obtain energy from food is called:",
      options: ["Respiration", "Nutrition", "Excretion", "Transportation"],
      answer: "Nutrition"
    },
    {
      question: "The main source of energy for Earth's climate system is:",
      options: ["Sun", "Moon", "Wind", "Water"],
      answer: "Sun"
    },
    {
      question: "The process of breaking down food to release energy is called:",
      options: ["Photosynthesis", "Respiration", "Digestion", "Excretion"],
      answer: "Respiration"
    },
    {
      question: "Which gas is essential for respiration in most organisms?",
      options: ["Carbon dioxide", "Oxygen", "Nitrogen", "Hydrogen"],
      answer: "Oxygen"
    },
    {
      question: "The process by which plants prepare their food is called:",
      options: ["Respiration", "Photosynthesis", "Transpiration", "Digestion"],
      answer: "Photosynthesis"
    },
    {
      question: "The green pigment in plants that absorbs sunlight is:",
      options: ["Chlorophyll", "Hemoglobin", "Melanin", "Carotene"],
      answer: "Chlorophyll"
    },
    {
      question: "The organ responsible for pumping blood in humans is:",
      options: ["Lungs", "Heart", "Kidneys", "Liver"],
      answer: "Heart"
    },
    {
      question: "The process of removing waste products from the body is called:",
      options: ["Nutrition", "Respiration", "Excretion", "Transportation"],
      answer: "Excretion"
    },
    {
      question: "The main excretory organ in humans is:",
      options: ["Liver", "Kidneys", "Lungs", "Skin"],
      answer: "Kidneys"
    },
    {
      question: "The transport of food in plants occurs through:",
      options: ["Xylem", "Phloem", "Stomata", "Chloroplasts"],
      answer: "Phloem"
    },
    {
      question: "The transport of water in plants occurs through:",
      options: ["Phloem", "Xylem", "Stomata", "Roots"],
      answer: "Xylem"
    },
    {
      question: "The tiny pores on leaves that allow gas exchange are called:",
      options: ["Stomata", "Lenticels", "Chloroplasts", "Guard cells"],
      answer: "Stomata"
    },
    {
      question: "The energy currency of the cell is:",
      options: ["ATP", "ADP", "Glucose", "Oxygen"],
      answer: "ATP"
    },
    {
      question: "The process of taking in food by an organism is called:",
      options: ["Digestion", "Ingestion", "Absorption", "Assimilation"],
      answer: "Ingestion"
    },
    {
      question: "The breakdown of glucose in the absence of oxygen is called:",
      options: ["Aerobic respiration", "Anaerobic respiration", "Photosynthesis", "Transpiration"],
      answer: "Anaerobic respiration"
    },
    {
      question: "The end product of anaerobic respiration in muscles is:",
      options: ["Carbon dioxide", "Lactic acid", "Ethanol", "Water"],
      answer: "Lactic acid"
    },
    {
      question: "The site of photosynthesis in plant cells is:",
      options: ["Mitochondria", "Chloroplast", "Nucleus", "Vacuole"],
      answer: "Chloroplast"
    },
    {
      question: "The process of movement of water out of leaves is called:",
      options: ["Transpiration", "Photosynthesis", "Respiration", "Absorption"],
      answer: "Transpiration"
    },
    {
      question: "The blood vessels that carry oxygen-rich blood are:",
      options: ["Arteries", "Veins", "Capillaries", "Vena cava"],
      answer: "Arteries"
    }
  ],
  level2: [
    {
      question: "The raw materials required for photosynthesis are:",
      options: ["Oxygen and water", "Carbon dioxide and water", "Glucose and oxygen", "Nitrogen and water"],
      answer: "Carbon dioxide and water"
    },
    {
      question: "The end products of aerobic respiration are:",
      options: ["Carbon dioxide, water, energy", "Lactic acid, energy", "Ethanol, carbon dioxide", "Glucose, oxygen"],
      answer: "Carbon dioxide, water, energy"
    },
    {
      question: "The enzyme in saliva that breaks down starch is:",
      options: ["Pepsin", "Amylase", "Lipase", "Trypsin"],
      answer: "Amylase"
    },
    {
      question: "The part of the digestive system where most absorption occurs is:",
      options: ["Stomach", "Small intestine", "Large intestine", "Mouth"],
      answer: "Small intestine"
    },
    {
      question: "The blood cells responsible for oxygen transport are:",
      options: ["White blood cells", "Red blood cells", "Platelets", "Plasma"],
      answer: "Red blood cells"
    },
    {
      question: "The waste product excreted by the lungs is:",
      options: ["Urea", "Carbon dioxide", "Ammonia", "Water"],
      answer: "Carbon dioxide"
    },
    {
      question: "The functional unit of the kidney is called:",
      options: ["Nephron", "Neuron", "Alveolus", "Glomerulus"],
      answer: "Nephron"
    },
    {
      question: "The process of breaking down complex food into simpler substances is:",
      options: ["Ingestion", "Digestion", "Absorption", "Assimilation"],
      answer: "Digestion"
    },
    {
      question: "The gas released during photosynthesis is:",
      options: ["Carbon dioxide", "Oxygen", "Nitrogen", "Hydrogen"],
      answer: "Oxygen"
    },
    {
      question: "The type of nutrition in humans is:",
      options: ["Autotrophic", "Heterotrophic", "Saprophytic", "Parasitic"],
      answer: "Heterotrophic"
    },
    {
      question: "The pigment in red blood cells that binds oxygen is:",
      options: ["Chlorophyll", "Hemoglobin", "Melanin", "Carotene"],
      answer: "Hemoglobin"
    },
    {
      question: "The process by which Amoeba engulfs food is called:",
      options: ["Diffusion", "Phagocytosis", "Pinocytosis", "Osmosis"],
      answer: "Phagocytosis"
    },
    {
      question: "The organ that stores bile is:",
      options: ["Liver", "Gall bladder", "Pancreas", "Stomach"],
      answer: "Gall bladder"
    },
    {
      question: "The type of respiration that occurs in yeast is:",
      options: ["Aerobic", "Anaerobic", "Cellular", "Photosynthetic"],
      answer: "Anaerobic"
    },
    {
      question: "The end product of anaerobic respiration in yeast is:",
      options: ["Lactic acid", "Ethanol and carbon dioxide", "Water and oxygen", "Glucose"],
      answer: "Ethanol and carbon dioxide"
    },
    {
      question: "The blood vessels that carry deoxygenated blood to the heart are:",
      options: ["Arteries", "Veins", "Capillaries", "Aorta"],
      answer: "Veins"
    },
    {
      question: "The part of the plant that anchors it to the soil is:",
      options: ["Root", "Stem", "Leaf", "Flower"],
      answer: "Root"
    },
    {
      question: "The process that helps in the ascent of sap in plants is:",
      options: ["Photosynthesis", "Transpiration", "Respiration", "Diffusion"],
      answer: "Transpiration"
    },
    {
      question: "The fluid part of blood is called:",
      options: ["Plasma", "Hemoglobin", "Platelets", "Red blood cells"],
      answer: "Plasma"
    },
    {
      question: "The organ where protein digestion begins is:",
      options: ["Mouth", "Stomach", "Small intestine", "Large intestine"],
      answer: "Stomach"
    }
  ],
  level3: [
    {
      question: "The number of ATP molecules produced in aerobic respiration is:",
      options: ["2", "38", "8", "18"],
      answer: "38"
    },
    {
      question: "The site of cellular respiration in eukaryotic cells is:",
      options: ["Chloroplast", "Mitochondria", "Nucleus", "Ribosomes"],
      answer: "Mitochondria"
    },
    {
      question: "The enzyme that breaks down proteins in the stomach is:",
      options: ["Amylase", "Pepsin", "Lipase", "Trypsin"],
      answer: "Pepsin"
    },
    {
      question: "The number of chambers in the human heart is:",
      options: ["2", "3", "4", "5"],
      answer: "4"
    },
    {
      question: "The process of filtration in the nephron occurs in:",
      options: ["Bowman’s capsule", "Proximal tubule", "Loop of Henle", "Distal tubule"],
      answer: "Bowman’s capsule"
    },
    {
      question: "The type of nutrition in fungi is:",
      options: ["Autotrophic", "Heterotrophic", "Saprophytic", "Holozoic"],
      answer: "Saprophytic"
    },
    {
      question: "The main site of photosynthesis in a leaf is:",
      options: ["Epidermis", "Mesophyll", "Stomata", "Veins"],
      answer: "Mesophyll"
    },
    {
      question: "The blood pressure is highest in:",
      options: ["Veins", "Arteries", "Capillaries", "Vena cava"],
      answer: "Arteries"
    },
    {
      question: "The waste product excreted by the kidneys is:",
      options: ["Urea", "Carbon dioxide", "Lactic acid", "Ethanol"],
      answer: "Urea"
    },
    {
      question: "The part of the brain that controls breathing is:",
      options: ["Cerebrum", "Cerebellum", "Medulla oblongata", "Hypothalamus"],
      answer: "Medulla oblongata"
    },
    {
      question: "The type of respiration in earthworms is through:",
      options: ["Lungs", "Gills", "Skin", "Tracheae"],
      answer: "Skin"
    },
    {
      question: "The process of absorption of digested food occurs mainly in the:",
      options: ["Stomach", "Small intestine", "Large intestine", "Mouth"],
      answer: "Small intestine"
    },
    {
      question: "The guard cells around stomata regulate:",
      options: ["Photosynthesis", "Transpiration", "Respiration", "Absorption"],
      answer: "Transpiration"
    },
    {
      question: "The blood component that helps in clotting is:",
      options: ["Red blood cells", "White blood cells", "Platelets", "Plasma"],
      answer: "Platelets"
    },
    {
      question: "The type of nutrition in Cuscuta (dodder) is:",
      options: ["Autotrophic", "Heterotrophic", "Parasitic", "Saprophytic"],
      answer: "Parasitic"
    },
    {
      question: "The final product of carbohydrate digestion is:",
      options: ["Glucose", "Amino acids", "Fatty acids", "Glycerol"],
      answer: "Glucose"
    },
    {
      question: "The respiratory organ in fish is:",
      options: ["Lungs", "Gills", "Skin", "Tracheae"],
      answer: "Gills"
    },
    {
      question: "The role of bile in digestion is to:",
      options: ["Break down proteins", "Emulsify fats", "Digest carbohydrates", "Absorb nutrients"],
      answer: "Emulsify fats"
    },
    {
      question: "The part of the nephron where reabsorption of water occurs is:",
      options: ["Bowman’s capsule", "Proximal tubule", "Loop of Henle", "Distal tubule"],
      answer: "Proximal tubule"
    },
    {
      question: "The energy released during anaerobic respiration in muscles is stored as:",
      options: ["ATP", "ADP", "Glucose", "Lactic acid"],
      answer: "ATP"
    }
  ]
};

// Render quiz
function renderQuiz(level) {
  const quizContainer = document.getElementById("quizContainer");
  quizContainer.innerHTML = ""; // Clear previous questions
  quizData[level].forEach((item, index) => {
    const card = document.createElement("div");
    card.className = "card animate__animated animate__fadeInUp";
    card.innerHTML = `
      <div class="card__content">
        <h5>Q${index + 1}: ${item.question}</h5>
        ${item.options.map(option => `
          <label>
            <input type="radio" name="q${index}" value="${option}"> ${option}
          </label>
        `).join("")}
      </div>
    `;
    quizContainer.appendChild(card);
  });
}

// Check answers
function checkAnswers(level) {
  let score = 0;
  quizData[level].forEach((item, index) => {
    const selected = document.querySelector(`input[name="q${index}"]:checked`);
    if (selected) {
      const userAnswer = selected.value;
      if (userAnswer === item.answer) {
        score++;
        selected.parentElement.style.color = "var(--correct-color)";
      } else {
        selected.parentElement.style.color = "var(--wrong-color)";
      }
    }
  });
  const resultDiv = document.getElementById("result");
  resultDiv.innerHTML = `Your Score: ${score}/${quizData[level].length} 🎉<br>${score === quizData[level].length ? "Full marks, bro! 😎" : "Keep grinding! 🚀"}`;
  resultDiv.className = "result animate__animated animate__bounceIn";
}

// Level selection
document.addEventListener("DOMContentLoaded", () => {
  renderQuiz("level1"); // Default to Level 1
  document.getElementById("levelSelect").addEventListener("change", function () {
    const selectedLevel = this.value;
    renderQuiz(selectedLevel);
    document.getElementById("submitQuiz").onclick = () => checkAnswers(selectedLevel);
  });

  document.getElementById("submitQuiz").onclick = () => checkAnswers("level1");

  // Toggle sidebar
  document.querySelector('.navbar-toggler').addEventListener('click', function () {
    const sidebar = document.querySelector('.sidebar');
    const main = document.querySelector('main');
    sidebar.classList.toggle('active');
    main.classList.toggle('shifted');
  });

  // Responsive adjustment
  window.addEventListener('resize', function () {
    const sidebar = document.querySelector('.sidebar');
    const main = document.querySelector('main');
    if (window.innerWidth >= 1024) {
      sidebar.classList.remove('active');
      main.classList.remove('shifted');
      main.style.marginLeft = '250px';
    } else if (window.innerWidth >= 768) {
      main.style.marginLeft = sidebar.classList.contains('active') ? '0' : '200px';
    } else {
      main.style.marginLeft = '0';
    }
  });

  // Initial load adjustment
  window.addEventListener('load', function () {
    const sidebar = document.querySelector('.sidebar');
    const main = document.querySelector('main');
    if (window.innerWidth >= 1024) {
      main.style.marginLeft = '250px';
    } else if (window.innerWidth >= 768) {
      main.style.marginLeft = '200px';
    } else {
      main.style.marginLeft = '0';
    }
  });
});